<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DDNS on HelloWood</title><link>https://blog.hellowood.dev/tags/ddns/</link><description>Recent content in DDNS on HelloWood</description><generator>Hugo</generator><language>cn</language><lastBuildDate>Wed, 04 Dec 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.hellowood.dev/tags/ddns/index.xml" rel="self" type="application/rss+xml"/><item><title>Openwrt-DDNS 配置</title><link>https://blog.hellowood.dev/posts/openwrt-ddns-%E9%85%8D%E7%BD%AE/</link><pubDate>Fri, 26 Aug 2022 11:32:08 +0800</pubDate><guid>https://blog.hellowood.dev/posts/openwrt-ddns-%E9%85%8D%E7%BD%AE/</guid><description>&lt;p&gt;DDNS(Dynamic DNS) 一般用于从外部访问家庭网络内的设备，因为家庭宽带没有固定的 IP 地址，所以通过域名访问时需要动态的更新域名的记录为当前的 IP 地址；实现的原理也比较简单，就是通过定时脚本，调用域名解析商的接口，修改域名的记录&lt;/p&gt;
&lt;p&gt;和大部分路由器一样，OpenWrt 也支持 DDNS，通过 DDNS 的脚本执行动态更新&lt;/p&gt;
&lt;h2 id="申请公网-ip"&gt;申请公网 IP&lt;/h2&gt;
&lt;p&gt;DDNS 需要能从外部访问，因此需要有一个公网IP；通常打电话给宽带运营商即可搞定，理由可以是需要访问 NAS、安装监控之类的；通常运营商会提供，获取到之后 PPPOE 重新拨号或者重启光猫路由器即可；通过访问 &lt;a href="https://tool.lu/ip/"&gt;https://tool.lu/ip/&lt;/a&gt; 等工具，即可获取到自己的公网 IP&lt;/p&gt;
&lt;p&gt;需要注意的是，22/80/443/8080 等常用端口被运营商限制，无法访问，因此，配置 DDNS 后只能通过域名+端口的方式访问； 如果域名是 &lt;code&gt;.dev&lt;/code&gt; 这类强制要求 HTTPS 访问的域名是无法在浏览器访问的&lt;/p&gt;
&lt;h2 id="配置-ddns"&gt;配置 DDNS&lt;/h2&gt;
&lt;h3 id="安装-luci-app-ddns"&gt;安装 luci-app-ddns&lt;/h3&gt;
&lt;p&gt;需要安装 luci-app-ddns，用于从 OpenWrt 控制界面修改配置；通过 &lt;code&gt;opkg&lt;/code&gt;命令或者 OpenWrt 控制界面的软件都可以安装&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;opkg update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;opkg install luci-app-ddns
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;opkg install luci-i18n-ddns-zh-cn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="安装-ddns-scripts-xxx"&gt;安装 ddns-scripts-xxx&lt;/h3&gt;
&lt;p&gt;DDNS 的更新由脚本执行，因此需要安装对应域名服务商的更新脚本；如 godaddy 的脚本是 ddns-scripts-godaddy；官方提供的域名服务商脚本可以从 &lt;a href="https://openwrt.org/packages/index/network---ip-addresses-and-names"&gt;Packagesindexnetwork&amp;mdash;ip-addresses-and-names&lt;/a&gt; 查看&lt;/p&gt;
&lt;p&gt;其他域名服务商可以在 GitHub 或恩山无线论坛中查找对应的软件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ddns-scripts-godaddy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="配置-ddns-1"&gt;配置 DDNS&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;添加 DDNS 配置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;添加 DDNS 配置，输入 DDNS 配置名称，选择 IPV4 版本，DDNS 服务提供商选择 Godaddy&lt;/p&gt;</description></item></channel></rss>