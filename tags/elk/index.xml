<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ELK on HelloWood</title><link>https://blog.hellowood.dev/tags/elk/</link><description>Recent content in ELK on HelloWood</description><generator>Hugo</generator><language>cn</language><lastBuildDate>Sat, 06 Sep 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.hellowood.dev/tags/elk/index.xml" rel="self" type="application/rss+xml"/><item><title>SpringBoot 使用 ELK 日志收集系统安装配置</title><link>https://blog.hellowood.dev/posts/springboot-%E4%BD%BF%E7%94%A8-elk-%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</link><pubDate>Sun, 21 Jan 2018 21:16:10 +0800</pubDate><guid>https://blog.hellowood.dev/posts/springboot-%E4%BD%BF%E7%94%A8-elk-%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</guid><description>&lt;h2 id="elasticsearch"&gt;Elasticsearch&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;下载 &lt;a href="https://www.elastic.co/cn/downloads/elasticsearch"&gt;Elasticsearch&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解压并运行 &lt;code&gt;bin/elasticsearch&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;访问 &lt;code&gt;http://localhost:9200&lt;/code&gt;, 会看到以下内容&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;{
 &amp;#34;name&amp;#34; : &amp;#34;9KA6kPN&amp;#34;,
 &amp;#34;cluster_name&amp;#34; : &amp;#34;elasticsearch&amp;#34;,
 &amp;#34;cluster_uuid&amp;#34; : &amp;#34;BtscSPXeR0manhl2LibpuA&amp;#34;,
 &amp;#34;version&amp;#34; : {
 &amp;#34;number&amp;#34; : &amp;#34;6.1.1&amp;#34;,
 &amp;#34;build_hash&amp;#34; : &amp;#34;bd92e7f&amp;#34;,
 &amp;#34;build_date&amp;#34; : &amp;#34;2017-12-17T20:23:25.338Z&amp;#34;,
 &amp;#34;build_snapshot&amp;#34; : false,
 &amp;#34;lucene_version&amp;#34; : &amp;#34;7.1.0&amp;#34;,
 &amp;#34;minimum_wire_compatibility_version&amp;#34; : &amp;#34;5.6.0&amp;#34;,
 &amp;#34;minimum_index_compatibility_version&amp;#34; : &amp;#34;5.0.0&amp;#34;
 },
 &amp;#34;tagline&amp;#34; : &amp;#34;You Know, for Search&amp;#34;
}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;安装 Head 插件&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;bin/plugin install mobz/elasticsearch-head
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="logstash"&gt;Logstash&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;下载 &lt;a href="https://www.elastic.co/cn/downloads/logstash"&gt;Logstash&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;解压&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加配置&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;添加 &lt;code&gt;log_to_es.conf&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;input {
 tcp {
 host =&amp;gt; &amp;#34;localhost&amp;#34;
 port =&amp;gt; 4560
 mode =&amp;gt; &amp;#34;server&amp;#34;
 tags =&amp;gt; [&amp;#34;applog&amp;#34;]
 codec =&amp;gt; json_lines
 }
}
output {
 stdout{codec =&amp;gt;rubydebug}
 elasticsearch {
 action =&amp;gt; &amp;#34;index&amp;#34; #The operation on ES
 hosts =&amp;gt; &amp;#34;localhost:9200&amp;#34; #ElasticSearch host, can be array.
 index =&amp;gt; &amp;#34;applog&amp;#34; #The index to write data to.
 }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这是从本地通过 TCP 读取读取日志并发送到 ElasticSearch&lt;/p&gt;</description></item><item><title>SpringBoot logback 输出日志到数据库、Logstash</title><link>https://blog.hellowood.dev/posts/springboot-logback-%E8%BE%93%E5%87%BA%E6%97%A5%E5%BF%97%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93logstash/</link><pubDate>Fri, 19 Jan 2018 21:25:42 +0800</pubDate><guid>https://blog.hellowood.dev/posts/springboot-logback-%E8%BE%93%E5%87%BA%E6%97%A5%E5%BF%97%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93logstash/</guid><description>&lt;h2 id="输入日志到数据库"&gt;输入日志到数据库&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;创建表&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;DROP TABLE IF EXISTS logging_event;
CREATE TABLE logging_event
(
 timestmp BIGINT NOT NULL,
 formatted_message TEXT NOT NULL,
 logger_name VARCHAR(254) NOT NULL,
 level_string VARCHAR(254) NOT NULL,
 thread_name VARCHAR(254),
 reference_flag SMALLINT,
 arg0 VARCHAR(254),
 arg1 VARCHAR(254),
 arg2 VARCHAR(254),
 arg3 VARCHAR(254),
 caller_filename VARCHAR(254) NOT NULL,
 caller_class VARCHAR(254) NOT NULL,
 caller_method VARCHAR(254) NOT NULL,
 caller_line CHAR(4) NOT NULL,
 event_id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY
);

DROP TABLE IF EXISTS logging_event_property;
CREATE TABLE logging_event_property
(
 event_id BIGINT NOT NULL,
 mapped_key VARCHAR(254) NOT NULL,
 mapped_value TEXT,
 PRIMARY KEY (event_id, mapped_key),
 FOREIGN KEY (event_id) REFERENCES logging_event (event_id)
);

DROP TABLE IF EXISTS logging_event_exception;
CREATE TABLE logging_event_exception
(
 event_id BIGINT NOT NULL,
 i SMALLINT NOT NULL,
 trace_line VARCHAR(254) NOT NULL,
 PRIMARY KEY (event_id, i),
 FOREIGN KEY (event_id) REFERENCES logging_event (event_id)
);
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;配置&lt;code&gt;logback.xml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;
&amp;lt;configuration&amp;gt;
 &amp;lt;!--日志异步到数据库 --&amp;gt;
 &amp;lt;appender name=&amp;#34;DB&amp;#34; class=&amp;#34;ch.qos.logback.classic.db.DBAppender&amp;#34;&amp;gt;
 &amp;lt;!--日志异步到数据库--&amp;gt;
 &amp;lt;connectionSource class=&amp;#34;ch.qos.logback.core.db.DriverManagerConnectionSource&amp;#34;&amp;gt;
 &amp;lt;driverClass&amp;gt;com.mysql.jdbc.Driver&amp;lt;/driverClass&amp;gt;
 &amp;lt;url&amp;gt;jdbc:mysql://localhost:3306/log?useSSL=false&amp;lt;/url&amp;gt;
 &amp;lt;user&amp;gt;root&amp;lt;/user&amp;gt;
 &amp;lt;password&amp;gt;123456&amp;lt;/password&amp;gt;
 &amp;lt;/connectionSource&amp;gt;
 &amp;lt;/appender&amp;gt;

 &amp;lt;root level=&amp;#34;INFO&amp;#34;&amp;gt;
 &amp;lt;appender-ref ref=&amp;#34;DB&amp;#34;/&amp;gt;
 &amp;lt;/root&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="输入日志到-logstash"&gt;输入日志到 &lt;a href="https://www.elastic.co/cn/products/logstash"&gt;&lt;code&gt;Logstash&lt;/code&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;logback.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;
&amp;lt;configuration scan=&amp;#34;true&amp;#34; scanPeriod=&amp;#34;60 seconds&amp;#34; debug=&amp;#34;false&amp;#34;&amp;gt;

 &amp;lt;!--日志导出的到 Logstash--&amp;gt;
 &amp;lt;appender name=&amp;#34;LOGSTASH&amp;#34; class=&amp;#34;net.logstash.logback.appender.LogstashTcpSocketAppender&amp;#34;&amp;gt;
 &amp;lt;destination&amp;gt;127.0.0.1:4560&amp;lt;/destination&amp;gt;
 &amp;lt;encoder chaset=&amp;#34;UTF-8&amp;#34; class=&amp;#34;net.logstash.logback.encoder.LogstashEncoder&amp;#34;&amp;gt;
 &amp;lt;customFields&amp;gt;{&amp;#34;appname&amp;#34;:&amp;#34;SpringBootLog&amp;#34;}&amp;lt;/customFields&amp;gt;
 &amp;lt;/encoder&amp;gt;
 &amp;lt;/appender&amp;gt;

 &amp;lt;root level=&amp;#34;INFO&amp;#34;&amp;gt;
 &amp;lt;appender-ref ref=&amp;#34;LOGSTASH&amp;#34;/&amp;gt;
 &amp;lt;/root&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;</description></item><item><title>SpringBoot 使用 ElasticSearch</title><link>https://blog.hellowood.dev/posts/springboot-%E4%BD%BF%E7%94%A8-elasticsearch/</link><pubDate>Tue, 16 Jan 2018 00:45:05 +0800</pubDate><guid>https://blog.hellowood.dev/posts/springboot-%E4%BD%BF%E7%94%A8-elasticsearch/</guid><description>&lt;blockquote&gt;
&lt;p&gt;项目地址：&lt;a href="https://github.com/helloworlde/SpringBootCollection/tree/master/SpringBoot-ElasticSearch"&gt;https://github.com/helloworlde/SpringBootCollection/tree/master/SpringBoot-ElasticSearch&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://www.elastic.co/cn/products/elasticsearch"&gt;ElasticSearch&lt;/a&gt; 是一个开源的分布式搜索引擎，用于存储数据&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;使用 SpringBoot 和 ElasticSearch 集成，实现最简单的增删改查功能&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="添加依赖"&gt;添加依赖&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-groovy" data-lang="groovy"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c1abea"&gt;dependencies&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;compile&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;(&lt;/span&gt;&lt;span style="color:#98c379"&gt;&amp;#39;org.springframework.boot:spring-boot-starter-data-elasticsearch&amp;#39;&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;compile&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;(&lt;/span&gt;&lt;span style="color:#98c379"&gt;&amp;#39;org.springframework.boot:spring-boot-starter-web&amp;#39;&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;compile&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;(&lt;/span&gt;&lt;span style="color:#98c379"&gt;&amp;#39;net.java.dev.jna:jna&amp;#39;&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;testCompile&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;(&lt;/span&gt;&lt;span style="color:#98c379"&gt;&amp;#39;org.springframework.boot:spring-boot-starter-test&amp;#39;&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c7bf54"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;不添加 &lt;code&gt;'net.java.dev.jna:jna'&lt;/code&gt; 依赖会提示 &lt;code&gt;java.lang.ClassNotFoundException: com.sun.jna.Native&lt;/code&gt; 错误&lt;/p&gt;
&lt;h2 id="添加配置"&gt;添加配置&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-properties" data-lang="properties"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#b3d23c"&gt;spring.data.elasticsearch.repositories.enabled&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;=&lt;/span&gt;&lt;span style="color:#98c379"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#8a93a5;font-style:italic"&gt;#spring.data.elasticsearch.cluster-nodes=localhost:9300&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;spring.data.elasticsearch.cluster-nodes=localhost:9300&lt;/code&gt; 只有当使用外部集群时配置，只使用本机时会提示错误&lt;/p&gt;
&lt;h2 id="modal"&gt;Modal&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;package&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.modal&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.data.annotation.Id&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.data.elasticsearch.annotations.Document&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;java.io.Serializable&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e5c07b"&gt;@Document&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;indexName&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;=&lt;/span&gt; &lt;span style="color:#98c379"&gt;&amp;#34;elasticsearch&amp;#34;&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;type&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;=&lt;/span&gt; &lt;span style="color:#98c379"&gt;&amp;#34;product&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c678dd"&gt;class&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;Product&lt;/span&gt; &lt;span style="color:#c678dd"&gt;implements&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Serializable&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;private&lt;/span&gt; &lt;span style="color:#c678dd"&gt;static&lt;/span&gt; &lt;span style="color:#c678dd"&gt;final&lt;/span&gt; &lt;span style="color:#ef8383"&gt;long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;serialVersionUID&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;=&lt;/span&gt; &lt;span style="color:#c1abea"&gt;1435515995276255188L&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;private&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;id&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;private&lt;/span&gt; &lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;private&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Integer&lt;/span&gt; &lt;span style="color:#c1abea"&gt;price&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#8a93a5;font-style:italic"&gt;// ...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="实现-repository-接口"&gt;实现 Repository 接口&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;package&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.repository&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.modal.Product&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.data.domain.Page&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.data.domain.Pageable&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.data.elasticsearch.repository.ElasticsearchRepository&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.stereotype.Component&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;java.util.List&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c678dd"&gt;interface&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;ProductRepository&lt;/span&gt; &lt;span style="color:#c678dd"&gt;extends&lt;/span&gt; &lt;span style="color:#c1abea"&gt;ElasticsearchRepository&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;Long&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findById&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;Page&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByName&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;Pageable&lt;/span&gt; &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;Page&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByNameLike&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;Pageable&lt;/span&gt; &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;Page&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByNameNot&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;Pageable&lt;/span&gt; &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;Page&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByPriceBetween&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;priceFrom&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;priceTo&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;Pageable&lt;/span&gt; &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;方法命名使用关键词来命名，用法和 JPA 类似&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="添加逻辑"&gt;添加逻辑&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ProductController.java&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;package&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.controller&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.modal.Product&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.service.ProductService&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.slf4j.Logger&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.slf4j.LoggerFactory&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.beans.factory.annotation.Autowired&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.web.bind.annotation.*&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;java.util.List&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e5c07b"&gt;@RestController&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e5c07b"&gt;@RequestMapping&lt;/span&gt;(&lt;span style="color:#98c379"&gt;&amp;#34;/product&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c678dd"&gt;class&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;ProductController&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;private&lt;/span&gt; &lt;span style="color:#c678dd"&gt;final&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Logger&lt;/span&gt; &lt;span style="color:#c1abea"&gt;logger&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;=&lt;/span&gt; &lt;span style="color:#c1abea"&gt;LoggerFactory&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;getLogger&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;getClass&lt;/span&gt;());
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Autowired&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;ProductService&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productService&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@PostMapping&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Product&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;save&lt;/span&gt;(&lt;span style="color:#e5c07b"&gt;@RequestBody&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Product&lt;/span&gt; &lt;span style="color:#c1abea"&gt;product&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productService&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;save&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;product&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@GetMapping&lt;/span&gt;(&lt;span style="color:#98c379"&gt;&amp;#34;/find/id&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findById&lt;/span&gt;(&lt;span style="color:#e5c07b"&gt;@RequestParam&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;id&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productService&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findById&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@GetMapping&lt;/span&gt;(&lt;span style="color:#98c379"&gt;&amp;#34;/find/name&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByName&lt;/span&gt;(&lt;span style="color:#e5c07b"&gt;@RequestParam&lt;/span&gt; &lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productService&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findByName&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;name&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@GetMapping&lt;/span&gt;(&lt;span style="color:#98c379"&gt;&amp;#34;/find/name/like&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByNameLike&lt;/span&gt;(&lt;span style="color:#e5c07b"&gt;@RequestParam&lt;/span&gt; &lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productService&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findByNameLike&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;name&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@GetMapping&lt;/span&gt;(&lt;span style="color:#98c379"&gt;&amp;#34;/find/name/notLike&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByNameNot&lt;/span&gt;(&lt;span style="color:#e5c07b"&gt;@RequestParam&lt;/span&gt; &lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productService&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findByNameNot&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;name&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@GetMapping&lt;/span&gt;(&lt;span style="color:#98c379"&gt;&amp;#34;/find/price/between&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByPriceBetween&lt;/span&gt;(&lt;span style="color:#e5c07b"&gt;@RequestParam&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;priceFrom&lt;/span&gt;, &lt;span style="color:#e5c07b"&gt;@RequestParam&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;priceTo&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productService&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findByPriceBetween&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;priceFrom&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;priceTo&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ProductServiceImpl.java&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;package&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.service.impl&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.modal.Product&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.repository.ProductRepository&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;cn.com.hellowood.elasticsearch.service.ProductService&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.slf4j.Logger&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.slf4j.LoggerFactory&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.beans.factory.annotation.Autowired&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.data.domain.PageRequest&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.data.domain.Pageable&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;org.springframework.stereotype.Service&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;import&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;java.util.List&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e5c07b"&gt;@Service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c678dd"&gt;class&lt;/span&gt; &lt;span style="color:#76a9f9"&gt;ProductServiceImpl&lt;/span&gt; &lt;span style="color:#c678dd"&gt;implements&lt;/span&gt; &lt;span style="color:#c1abea"&gt;ProductService&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;private&lt;/span&gt; &lt;span style="color:#c678dd"&gt;final&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Logger&lt;/span&gt; &lt;span style="color:#c1abea"&gt;logger&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;=&lt;/span&gt; &lt;span style="color:#c1abea"&gt;LoggerFactory&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;getLogger&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;getClass&lt;/span&gt;());
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;private&lt;/span&gt; &lt;span style="color:#c678dd"&gt;static&lt;/span&gt; &lt;span style="color:#c678dd"&gt;final&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Integer&lt;/span&gt; &lt;span style="color:#c1abea"&gt;pageNum&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;=&lt;/span&gt; &lt;span style="color:#c1abea"&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;private&lt;/span&gt; &lt;span style="color:#c678dd"&gt;static&lt;/span&gt; &lt;span style="color:#c678dd"&gt;final&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Integer&lt;/span&gt; &lt;span style="color:#c1abea"&gt;pageSize&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;=&lt;/span&gt; &lt;span style="color:#c1abea"&gt;10&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;Pageable&lt;/span&gt; &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt; &lt;span style="color:#c7bf54"&gt;=&lt;/span&gt; &lt;span style="color:#c678dd"&gt;new&lt;/span&gt; &lt;span style="color:#c1abea"&gt;PageRequest&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;pageNum&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;pageSize&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Autowired&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c1abea"&gt;ProductRepository&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productRepository&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;Product&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;save&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt; &lt;span style="color:#c1abea"&gt;product&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productRepository&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;save&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;product&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findById&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;id&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productRepository&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findById&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;id&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByName&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productRepository&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findByName&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;name&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt;).&lt;span style="color:#b3d23c"&gt;getContent&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByNameLike&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productRepository&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findByNameLike&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;name&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt;).&lt;span style="color:#b3d23c"&gt;getContent&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByNameNot&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;String&lt;/span&gt; &lt;span style="color:#c1abea"&gt;name&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productRepository&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findByNameNot&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;name&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt;).&lt;span style="color:#b3d23c"&gt;getContent&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e5c07b"&gt;@Override&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;public&lt;/span&gt; &lt;span style="color:#c1abea"&gt;List&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#c1abea"&gt;Product&lt;/span&gt;&lt;span style="color:#c7bf54"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#00b1f7"&gt;findByPriceBetween&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;priceFrom&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;Long&lt;/span&gt; &lt;span style="color:#c1abea"&gt;priceTo&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#c678dd"&gt;return&lt;/span&gt; &lt;span style="color:#c1abea"&gt;productRepository&lt;/span&gt;.&lt;span style="color:#b3d23c"&gt;findByPriceBetween&lt;/span&gt;(&lt;span style="color:#c1abea"&gt;priceFrom&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;priceTo&lt;/span&gt;, &lt;span style="color:#c1abea"&gt;pageable&lt;/span&gt;).&lt;span style="color:#b3d23c"&gt;getContent&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="插入数据"&gt;插入数据&lt;/h2&gt;
&lt;p&gt;分别插入以下数据：&lt;/p&gt;</description></item></channel></rss>