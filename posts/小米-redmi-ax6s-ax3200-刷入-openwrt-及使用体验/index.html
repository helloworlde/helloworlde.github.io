<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验</title>
<meta charset=utf-8><meta name=description content="Ladder@小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验 买了小米 Redmi AX3000 路由器后发现是 RA81 型号，这个型号目前无法刷入 OpenWrt；但是因为当前使用的 OpenWrt 作为旁路由的方式并不稳定，所以想更换一个可以刷入 OpenWrt 的路由器
一番搜索之后发现 Redmi AX6S 相对更稳定，且已有 OpenWrt 的正式版本固件，因此又购入了一台新的 AX6S，准备刷入 OpenWrt 作为主路由使用
AX6S有 RB01 和 RB03 两个版本，硬件完全相同；国内售卖的基本都是 RB03，可以通过刷入开发版固件的方式开启 telnet，RB01 只能拆机后通过 UART 接口写入的方式开启 telnet
刷入 OpenWrt 将固件升级为测试版 将固件升级为测试版是为了开启 telnet，方便输入 OpenWrt 的固件；可以通过 telnet 192.168.31.1 测试，通常是没有开启的。
telnet 192.168.31.1 Trying 192.168.31.1... telnet: connect to address 192.168.31.1: Connection refused telnet: Unable to connect to remote host 下载测试版固件并升级 首先下载测试版本固件miwifi_rb03_firmware_stable_1.2.7 ；在初始化路由器配置后，进入到路由器控制台，选择升级； 升级完成后路由器会重启，页面有水印提示 Only For Test； 此时使用 telnet 测试会发现已经可以登陆了"><meta name=author content="HelloWood"><link rel=canonical href=https://blog.hellowood.dev/posts/%E5%B0%8F%E7%B1%B3-redmi-ax6s-ax3200-%E5%88%B7%E5%85%A5-openwrt-%E5%8F%8A%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/><meta name=google-site-verification content="G-3MSGPYTHPZ"><link rel=alternate type=application/rss+xml href=https://blog.hellowood.dev/index.xml title=HelloWood><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MSGPYTHPZ"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3MSGPYTHPZ",{anonymize_ip:!1})}</script><script async defer data-website-id=7a9034de-0ce7-4756-942a-829e6cd22301 src=https://umami.hellowood.dev/script.js></script><script defer data-cf-beacon='{"token": "b2e481d136dc428c8c96c8673e2a04cf"}' src=https://static.cloudflareinsights.com/beacon.min.js></script><meta property="og:title" content="小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验"><meta property="og:description" content="小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验 买了小米 Redmi AX3000 路由器后发现是 RA81 型号，这个型号目前无法刷入 OpenWrt；但是因为当前使用的 OpenWrt 作为旁路由的方式并不稳定，所以想更换一个可以刷入 OpenWrt 的路由器
一番搜索之后发现 Redmi AX6S 相对更稳定，且已有 OpenWrt 的正式版本固件，因此又购入了一台新的 AX6S，准备刷入 OpenWrt 作为主路由使用
AX6S有 RB01 和 RB03 两个版本，硬件完全相同；国内售卖的基本都是 RB03，可以通过刷入开发版固件的方式开启 telnet，RB01 只能拆机后通过 UART 接口写入的方式开启 telnet
刷入 OpenWrt 将固件升级为测试版 将固件升级为测试版是为了开启 telnet，方便输入 OpenWrt 的固件；可以通过 telnet 192.168.31.1 测试，通常是没有开启的。
telnet 192.168.31.1 Trying 192.168.31.1... telnet: connect to address 192.168.31.1: Connection refused telnet: Unable to connect to remote host 下载测试版固件并升级 首先下载测试版本固件miwifi_rb03_firmware_stable_1.2.7 ；在初始化路由器配置后，进入到路由器控制台，选择升级； 升级完成后路由器会重启，页面有水印提示 Only For Test； 此时使用 telnet 测试会发现已经可以登陆了"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.hellowood.dev/posts/%E5%B0%8F%E7%B1%B3-redmi-ax6s-ax3200-%E5%88%B7%E5%85%A5-openwrt-%E5%8F%8A%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-09T11:20:19+00:00"><meta property="article:modified_time" content="2022-10-09T11:20:19+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验"><meta name=twitter:description content="小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验 买了小米 Redmi AX3000 路由器后发现是 RA81 型号，这个型号目前无法刷入 OpenWrt；但是因为当前使用的 OpenWrt 作为旁路由的方式并不稳定，所以想更换一个可以刷入 OpenWrt 的路由器
一番搜索之后发现 Redmi AX6S 相对更稳定，且已有 OpenWrt 的正式版本固件，因此又购入了一台新的 AX6S，准备刷入 OpenWrt 作为主路由使用
AX6S有 RB01 和 RB03 两个版本，硬件完全相同；国内售卖的基本都是 RB03，可以通过刷入开发版固件的方式开启 telnet，RB01 只能拆机后通过 UART 接口写入的方式开启 telnet
刷入 OpenWrt 将固件升级为测试版 将固件升级为测试版是为了开启 telnet，方便输入 OpenWrt 的固件；可以通过 telnet 192.168.31.1 测试，通常是没有开启的。
telnet 192.168.31.1 Trying 192.168.31.1... telnet: connect to address 192.168.31.1: Connection refused telnet: Unable to connect to remote host 下载测试版固件并升级 首先下载测试版本固件miwifi_rb03_firmware_stable_1.2.7 ；在初始化路由器配置后，进入到路由器控制台，选择升级； 升级完成后路由器会重启，页面有水印提示 Only For Test； 此时使用 telnet 测试会发现已经可以登陆了"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.hellowood.dev/posts/"},{"@type":"ListItem","position":3,"name":"小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验","item":"https://blog.hellowood.dev/posts/%E5%B0%8F%E7%B1%B3-redmi-ax6s-ax3200-%E5%88%B7%E5%85%A5-openwrt-%E5%8F%8A%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验","name":"小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验","description":"小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验 买了小米 Redmi AX3000 路由器后发现是 RA81 型号，这个型号目前无法刷入 OpenWrt；但是因为当前使用的 OpenWrt 作为旁路由的方式并不稳定，所以想更换一个可以刷入 OpenWrt 的路由器\n一番搜索之后发现 Redmi AX6S 相对更稳定，且已有 OpenWrt 的正式版本固件，因此又购入了一台新的 AX6S，准备刷入 OpenWrt 作为主路由使用\nAX6S有 RB01 和 RB03 两个版本，硬件完全相同；国内售卖的基本都是 RB03，可以通过刷入开发版固件的方式开启 telnet，RB01 只能拆机后通过 UART 接口写入的方式开启 telnet\n刷入 OpenWrt 将固件升级为测试版 将固件升级为测试版是为了开启 telnet，方便输入 OpenWrt 的固件；可以通过 telnet 192.168.31.1 测试，通常是没有开启的。\ntelnet 192.168.31.1 Trying 192.168.31.1... telnet: connect to address 192.168.31.1: Connection refused telnet: Unable to connect to remote host 下载测试版固件并升级 首先下载测试版本固件miwifi_rb03_firmware_stable_1.2.7 ；在初始化路由器配置后，进入到路由器控制台，选择升级； 升级完成后路由器会重启，页面有水印提示 Only For Test； 此时使用 telnet 测试会发现已经可以登陆了","keywords":["MiWiFi","Router","HomeLab","OpenWrt"],"articleBody":"小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验 买了小米 Redmi AX3000 路由器后发现是 RA81 型号，这个型号目前无法刷入 OpenWrt；但是因为当前使用的 OpenWrt 作为旁路由的方式并不稳定，所以想更换一个可以刷入 OpenWrt 的路由器\n一番搜索之后发现 Redmi AX6S 相对更稳定，且已有 OpenWrt 的正式版本固件，因此又购入了一台新的 AX6S，准备刷入 OpenWrt 作为主路由使用\nAX6S有 RB01 和 RB03 两个版本，硬件完全相同；国内售卖的基本都是 RB03，可以通过刷入开发版固件的方式开启 telnet，RB01 只能拆机后通过 UART 接口写入的方式开启 telnet\n刷入 OpenWrt 将固件升级为测试版 将固件升级为测试版是为了开启 telnet，方便输入 OpenWrt 的固件；可以通过 telnet 192.168.31.1 测试，通常是没有开启的。\ntelnet 192.168.31.1 Trying 192.168.31.1... telnet: connect to address 192.168.31.1: Connection refused telnet: Unable to connect to remote host 下载测试版固件并升级 首先下载测试版本固件miwifi_rb03_firmware_stable_1.2.7 ；在初始化路由器配置后，进入到路由器控制台，选择升级； 升级完成后路由器会重启，页面有水印提示 Only For Test； 此时使用 telnet 测试会发现已经可以登陆了\ntelnet 192.168.31.1 Trying 192.168.31.1... Connected to xiaoqiang. Escape character is '^]'. XiaoQiang login: 计算路由器登陆密码 路由器的登陆密码与 SN码有关，需要通过 SN码进行计算，可以使用 YangWang92/AX6S-unlock 仓库的 Python 脚本计算；SN码可以从路由器页面或者路由器背面商品信息中获取\npython3 unlock.py 36418/J1VU79634 a857e591 使用账户 root 和计算得到的密码 xxx 进行登陆，即可登陆到路由器后台\n刷入 OpenWrt 1 下载 OpenWrt 固件 直接下载到路由器 如果路由器能够上网，可以直接通过 wget 命令从 Xiaomi AX3200 / Redmi AX6S 页面下载最新的安装固件 openwrt-22.03.0-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin，为了后续操作方便，重命名为 factory.bin\ncd /tmp wget http://downloads.openwrt.org/releases/22.03.0/targets/mediatek/mt7622/openwrt-22.03.0-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin -O factory.bin 从本地上传 如果路由器不能上网，可以手动下载安装固件openwrt-22.03.0-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin后上传到路由器\n可以通过 Cyberduck 或者本地启动一个 HTTP服务器的方式上传固件到路由器；以通过启动 Python 服务器的方式为例上传到路由器\n启动服务器 在 OpenWrt 固件所在目录启动 Python Server； 启动后，会在本地 8000 端口提供一个 ftp 服务，可以从路由器上访问该端口获取\npython -m http.server 在路由器下载固件 需要知道本地的IP地址，可以在路由器页面查看，如本地的地址是 192.168.31.100，然后使用 telnet 登陆到路由器，将 OpenWrt 估计下载到 /tmp目录\ncd /tmp wget http://192.168.31.100/factory.bin -O factory.bin 2 开启 SSH 并准备刷入 OpenWrt 登陆后，执行以下命令，准备输入 OpenWrt 固件\nnvram set ssh_en=1 nvram set uart_en=1 nvram set boot_wait=on nvram set flag_boot_success=1 nvram set flag_try_sys1_failed=0 nvram set flag_try_sys2_failed=0 nvram set \"boot_fw1=run boot_rd_img;bootm\" nvram commit 3 刷入 OpenWrt 通过 mtd 命令将 OpenWrt 的固件写入到路由器\nmtd -r write factory.bin firmware 写入完成后，路由器会自动重启；重启后的路由器的 IP 地址变为 192.168.1.1；此时 Wi-Fi 没有开启，需要使用网线连接到路由器，访问 192.168.1.1 进行配置\n使用体验 以 Redmi AX3000 和 Redmi AX6S 日常使用体验对比\n配置 两者硬件配置基本相同，AX6S CPU 频率更高，支持 4x4 通道 80Mhz 的 5G WiFi，AX3000 支持 2x2 160Mhz 的 5G WiFi；可以理解为 AX3000 单设备速度上限更高，AX6S 支持更多设备并发，两者理论速度上限相同\n配置 AX3000 AX6S CPU IPQ5000双核1Ghz MT7622B双核1.35Ghz 内存 256M 256M 闪存 128M 128M 尺寸 247x141x180mm 284x186x186mm 网口 千兆WANx1/LANx3 千兆WANx1/LANx3 无线 2x2 160Mhz,最高可达2402Mbps，4根天线 4x4 80Mhz,最高可达2402Mbps，6根天线 价格 239 299 外观 Redmi AX3000 外观是白色，颜值在线；Redmi AX6S 使用黑色，要比 Redmi AX3000 大不少，因此显得十分笨重，但是其内部的 PCB 板周围仍有很大空间，完全可以做的更小；（AX6S太丑了！！！）\n两者的网口采用了同样的设计，网口上下两面都有凹槽，使用时很容易插反（为啥要这么设计？？？）；都是一个 WAN 口，三个 LAN 口（完全不够用）\n另外都有 Mesh 按钮，支持快速 Mesh 组网；但是 Reset 按钮必须得用卡针才能触发（垃圾！！！）\n散热 因为完全镂空的设计，两个路由器的散热都非常好；高负载使用也不会烫手，相比小米路由器 4C 没有高负载也特别烫手，这两款路由器的散热提升不小\n使用体验 Redmi AX6S 刷了 OpenWrt 后安装了 OpenClash/DDNS/SmartDNS 等几个常用的软件；内存日常占用在 80% 左右；使用 Youtube 看 8K 视频，CPU 占用大约 30%-50%，低负载时 10%以内；日常使用较稳定，因为节点偶尔抖动，所以玩游戏时 ping 可能会突然增高\nRedmi AX3000 日常使用比较稳定，因为不支持刷入 OpenWrt，并且官方固件阉割了系统状态，所以无法观测 CPU 和内存等信息\n速度方面，WiFi6 的电脑通过无线连接到路由器，然后通过路由器的网口连接到另一个 2.5G 网口都电脑进行测速；连接 AX3000 的无线协商速度是 2400Mbps，测速上下行大概都是 950Mbps 左右（所以千兆网口的路由器上 WiFi6 有个卵用？？？如果用于内网跑链路聚合，网口又不够用！！！）；AX6S 的协商速度是 1200Mbps，测试下行大约900Mbps，上行 850Mbps；直观感受是 AX6S速度不如AX3000，不过日常使用已经足够了\n综合来看，刷入 OpenWrt 安装常用软件后，128M 的闪存和 256M 的内存不够用，使用起来捉襟见肘；另外，只有千兆的网口，导致 WiFi6 的速度只能在内网支持 WiFi6 的设备之间使用，所以这个价位的 WiFi6 路由器只能是过渡产品，可能一两年后就需要淘汰（不如小黄鱼买 Redmi AX3000 RA69 版本，千万别买 RA81 版本！！！）\n参考文档 Xiaomi AX3200 / Redmi AX6S ","wordCount":"362","inLanguage":"en","datePublished":"2022-10-09T11:20:19Z","dateModified":"2022-10-09T11:20:19Z","author":{"@type":"Person","name":"HelloWood"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.hellowood.dev/posts/%E5%B0%8F%E7%B1%B3-redmi-ax6s-ax3200-%E5%88%B7%E5%85%A5-openwrt-%E5%8F%8A%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/"},"publisher":{"@type":"Organization","name":"HelloWood","logo":{"@type":"ImageObject","url":"https://blog.hellowood.dev/favicon.ico"}}}</script><link rel=icon href=/images/avatar.png sizes=16x16><link rel=apple-touch-icon href=/images/avatar.png><link rel=manifest href=/images/avatar.png><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.ff1bc260fafbfb440e10194d7d06d57eb5e85eed11d12d06255581262664204e.css integrity="sha256-/xvCYPr7+0QOEBlNfQbVfrXoXu0R0S0GJVWBJiZkIE4=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.894ca9c68afab956438c4926a0dc7f5293e04e08595bd27abdb123e94801f684.js></script><script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","jtbhx98g62")</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand data-umami-event=navigation-brand href=/>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Blog href=/posts>Blog</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Tags href=/tags>Tags</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Archive href=/archives>Archive</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Dashboard href=https://umami.hellowood.dev/share/lab/Blog>Dashboard</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link data-umami-event=navigation-social href=https://github.com/helloworlde><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button data-umami-event=toggle-theme aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验</h1></header><p><small>October 9, 2022&nbsp;· 362 words&nbsp;· 2 min</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#刷入-openwrt>刷入 OpenWrt</a><ul><li><a href=#将固件升级为测试版>将固件升级为测试版</a></li><li><a href=#刷入-openwrt-1>刷入 OpenWrt</a></li></ul></li><li><a href=#使用体验>使用体验</a></li><li><a href=#参考文档>参考文档</a></li></ul></nav></div><section class=blog-content><h1 id=小米-redmi-ax6sax3200-刷入-openwrt-及使用体验>小米 Redmi AX6S(AX3200) 刷入 OpenWrt 及使用体验</h1><p>买了小米 Redmi AX3000 路由器后发现是 RA81 型号，这个型号目前无法刷入 OpenWrt；但是因为当前使用的 OpenWrt 作为旁路由的方式并不稳定，所以想更换一个可以刷入 OpenWrt 的路由器</p><p>一番搜索之后发现 Redmi AX6S 相对更稳定，且已有 OpenWrt 的正式版本固件，因此又购入了一台新的 AX6S，准备刷入 OpenWrt 作为主路由使用</p><p>AX6S有 RB01 和 RB03 两个版本，硬件完全相同；国内售卖的基本都是 RB03，可以通过刷入开发版固件的方式开启 telnet，RB01 只能拆机后通过 UART 接口写入的方式开启 telnet</p><h2 id=刷入-openwrt>刷入 OpenWrt</h2><h3 id=将固件升级为测试版>将固件升级为测试版</h3><p>将固件升级为测试版是为了开启 telnet，方便输入 OpenWrt 的固件；可以通过 <code>telnet 192.168.31.1</code> 测试，通常是没有开启的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>telnet 192.168.31.1
</span></span><span style=display:flex><span>Trying 192.168.31.1...
</span></span><span style=display:flex><span>telnet: connect to address 192.168.31.1: Connection refused
</span></span><span style=display:flex><span>telnet: Unable to connect to remote host
</span></span></code></pre></div><ol><li>下载测试版固件并升级</li></ol><p>首先下载测试版本固件<a href=https://github.com/YangWang92/AX6S-unlock/raw/master/miwifi_rb03_firmware_stable_1.2.7.bin>miwifi_rb03_firmware_stable_1.2.7 </a>；在初始化路由器配置后，进入到路由器控制台，选择升级；
<img src=https://hellowoodes.oss-cn-beijing.aliyuncs.com/picture/homelab-miwifi-ax6s-openwrt-upgrade.png alt=homelab-miwifi-ax6s-openwrt-upgrade.png></p><p><img src=https://hellowoodes.oss-cn-beijing.aliyuncs.com/picture/homelab-miwifi-ax6s-openwrt-upgrade-ongoing.png alt=homelab-miwifi-ax6s-openwrt-upgrade-ongoing.png></p><p>升级完成后路由器会重启，页面有水印提示 <code>Only For Test</code>；
<img src=https://hellowoodes.oss-cn-beijing.aliyuncs.com/picture/homelab-miwifi-ax6s-openwrt-upgrade-complted.png alt=homelab-miwifi-ax6s-openwrt-upgrade-complted.png></p><p>此时使用 telnet 测试会发现已经可以登陆了</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>telnet 192.168.31.1
</span></span><span style=display:flex><span>Trying 192.168.31.1...
</span></span><span style=display:flex><span>Connected to xiaoqiang.
</span></span><span style=display:flex><span>Escape character is <span style=color:#e6db74>&#39;^]&#39;</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>XiaoQiang login:
</span></span></code></pre></div><ol start=2><li>计算路由器登陆密码</li></ol><p>路由器的登陆密码与 SN码有关，需要通过 SN码进行计算，可以使用 <a href=https://github.com/YangWang92/AX6S-unlock/blob/master/unlock_pwd.py>YangWang92/AX6S-unlock</a> 仓库的 Python 脚本计算；SN码可以从路由器页面或者路由器背面商品信息中获取</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 unlock.py 36418/J1VU79634
</span></span><span style=display:flex><span>a857e591
</span></span></code></pre></div><p>使用账户 <code>root</code> 和计算得到的密码 <code>xxx</code> 进行登陆，即可登陆到路由器后台</p><p><img src=https://hellowoodes.oss-cn-beijing.aliyuncs.com/picture/homelab-miwifi-ax6s-openwrt-telnet-success.png alt=homelab-miwifi-ax6s-openwrt-telnet-success.png></p><h3 id=刷入-openwrt-1>刷入 OpenWrt</h3><h4 id=1-下载-openwrt-固件>1 下载 OpenWrt 固件</h4><h5 id=直接下载到路由器>直接下载到路由器</h5><p>如果路由器能够上网，可以直接通过 <code>wget</code> 命令从 <a href=https://openwrt.org/toh/xiaomi/ax3200>Xiaomi AX3200 / Redmi AX6S</a> 页面下载最新的安装固件 <a href=http://downloads.openwrt.org/releases/22.03.0/targets/mediatek/mt7622/openwrt-22.03.0-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin>openwrt-22.03.0-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin</a>，为了后续操作方便，重命名为 <code>factory.bin</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /tmp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>wget http://downloads.openwrt.org/releases/22.03.0/targets/mediatek/mt7622/openwrt-22.03.0-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin -O factory.bin
</span></span></code></pre></div><h5 id=从本地上传>从本地上传</h5><p>如果路由器不能上网，可以手动下载安装固件<a href=http://downloads.openwrt.org/releases/22.03.0/targets/mediatek/mt7622/openwrt-22.03.0-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin>openwrt-22.03.0-mediatek-mt7622-xiaomi_redmi-router-ax6s-squashfs-factory.bin</a>后上传到路由器</p><p>可以通过 <a href=https://cyberduck.io/download/>Cyberduck</a> 或者本地启动一个 HTTP服务器的方式上传固件到路由器；以通过启动 Python 服务器的方式为例上传到路由器</p><ul><li>启动服务器</li></ul><p>在 OpenWrt 固件所在目录启动 Python Server； 启动后，会在本地 8000 端口提供一个 ftp 服务，可以从路由器上访问该端口获取</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python -m http.server
</span></span></code></pre></div><ul><li>在路由器下载固件</li></ul><p>需要知道本地的IP地址，可以在路由器页面查看，如本地的地址是 <code>192.168.31.100</code>，然后使用 <code>telnet</code> 登陆到路由器，将 OpenWrt 估计下载到 <code>/tmp</code>目录</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /tmp
</span></span><span style=display:flex><span>wget http://192.168.31.100/factory.bin -O factory.bin
</span></span></code></pre></div><h4 id=2-开启-ssh-并准备刷入-openwrt>2 开启 SSH 并准备刷入 OpenWrt</h4><p>登陆后，执行以下命令，准备输入 OpenWrt 固件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nvram set ssh_en<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>nvram set uart_en<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>nvram set boot_wait<span style=color:#f92672>=</span>on
</span></span><span style=display:flex><span>nvram set flag_boot_success<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>nvram set flag_try_sys1_failed<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>nvram set flag_try_sys2_failed<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>nvram set <span style=color:#e6db74>&#34;boot_fw1=run boot_rd_img;bootm&#34;</span>
</span></span><span style=display:flex><span>nvram commit
</span></span></code></pre></div><h4 id=3-刷入-openwrt>3 刷入 OpenWrt</h4><p>通过 <code>mtd</code> 命令将 OpenWrt 的固件写入到路由器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mtd -r write factory.bin firmware
</span></span></code></pre></div><p><img src=https://hellowoodes.oss-cn-beijing.aliyuncs.com/picture/homelab-miwifi-ax6s-openwrt-execute-install.png alt=homelab-miwifi-ax6s-openwrt-execute-install.png></p><p>写入完成后，路由器会自动重启；重启后的路由器的 IP 地址变为 <code>192.168.1.1</code>；此时 Wi-Fi 没有开启，需要使用网线连接到路由器，访问 <code>192.168.1.1</code> 进行配置</p><h2 id=使用体验>使用体验</h2><p>以 Redmi AX3000 和 Redmi AX6S 日常使用体验对比</p><ul><li>配置</li></ul><p>两者硬件配置基本相同，AX6S CPU 频率更高，支持 4x4 通道 80Mhz 的 5G WiFi，AX3000 支持 2x2 160Mhz 的 5G WiFi；可以理解为 AX3000 单设备速度上限更高，AX6S 支持更多设备并发，两者理论速度上限相同</p><table><thead><tr><th style=text-align:left>配置</th><th style=text-align:left>AX3000</th><th style=text-align:left>AX6S</th></tr></thead><tbody><tr><td style=text-align:left>CPU</td><td style=text-align:left>IPQ5000双核1Ghz</td><td style=text-align:left>MT7622B双核1.35Ghz</td></tr><tr><td style=text-align:left>内存</td><td style=text-align:left>256M</td><td style=text-align:left>256M</td></tr><tr><td style=text-align:left>闪存</td><td style=text-align:left>128M</td><td style=text-align:left>128M</td></tr><tr><td style=text-align:left>尺寸</td><td style=text-align:left>247x141x180mm</td><td style=text-align:left>284x186x186mm</td></tr><tr><td style=text-align:left>网口</td><td style=text-align:left>千兆WANx1/LANx3</td><td style=text-align:left>千兆WANx1/LANx3</td></tr><tr><td style=text-align:left>无线</td><td style=text-align:left>2x2 160Mhz,最高可达2402Mbps，4根天线</td><td style=text-align:left>4x4 80Mhz,最高可达2402Mbps，6根天线</td></tr><tr><td style=text-align:left>价格</td><td style=text-align:left>239</td><td style=text-align:left>299</td></tr></tbody></table><ul><li>外观</li></ul><p>Redmi AX3000 外观是白色，颜值在线；Redmi AX6S 使用黑色，要比 Redmi AX3000 大不少，因此显得十分笨重，但是其内部的 PCB 板周围仍有很大空间，完全可以做的更小；（AX6S太丑了！！！）</p><p>两者的网口采用了同样的设计，网口上下两面都有凹槽，使用时很容易插反（为啥要这么设计？？？）；都是一个 WAN 口，三个 LAN 口（完全不够用）</p><p>另外都有 Mesh 按钮，支持快速 Mesh 组网；但是 Reset 按钮必须得用卡针才能触发（垃圾！！！）</p><ul><li>散热</li></ul><p>因为完全镂空的设计，两个路由器的散热都非常好；高负载使用也不会烫手，相比小米路由器 4C 没有高负载也特别烫手，这两款路由器的散热提升不小</p><ul><li>使用体验</li></ul><p>Redmi AX6S 刷了 OpenWrt 后安装了 OpenClash/DDNS/SmartDNS 等几个常用的软件；内存日常占用在 80% 左右；使用 Youtube 看 8K 视频，CPU 占用大约 30%-50%，低负载时 10%以内；日常使用较稳定，因为节点偶尔抖动，所以玩游戏时 ping 可能会突然增高</p><p>Redmi AX3000 日常使用比较稳定，因为不支持刷入 OpenWrt，并且官方固件阉割了系统状态，所以无法观测 CPU 和内存等信息</p><p>速度方面，WiFi6 的电脑通过无线连接到路由器，然后通过路由器的网口连接到另一个 2.5G 网口都电脑进行测速；连接 AX3000 的无线协商速度是 2400Mbps，测速上下行大概都是 950Mbps 左右（所以千兆网口的路由器上 WiFi6 有个卵用？？？如果用于内网跑链路聚合，网口又不够用！！！）；AX6S 的协商速度是 1200Mbps，测试下行大约900Mbps，上行 850Mbps；直观感受是 AX6S速度不如AX3000，不过日常使用已经足够了</p><p>综合来看，刷入 OpenWrt 安装常用软件后，128M 的闪存和 256M 的内存不够用，使用起来捉襟见肘；另外，只有千兆的网口，导致 WiFi6 的速度只能在内网支持 WiFi6 的设备之间使用，所以这个价位的 WiFi6 路由器只能是过渡产品，可能一两年后就需要淘汰（不如小黄鱼买 Redmi AX3000 RA69 版本，千万别买 RA81 版本！！！）</p><p><img src=https://hellowoodes.oss-cn-beijing.aliyuncs.com/picture/homelab-miwifi-redmi-ax6s-usage.png alt=homelab-miwifi-redmi-ax6s-usage.png></p><h2 id=参考文档>参考文档</h2><ul><li><a href=https://openwrt.org/toh/xiaomi/ax3200>Xiaomi AX3200 / Redmi AX6S</a></li></ul></section><div class=paginator><a class=prev href=https://blog.hellowood.dev/posts/clash-%E4%BD%BF%E7%94%A8-docker-%E9%83%A8%E7%BD%B2/><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg><span>Clash 使用 Docker 部署</span></a>
<a class=next href=https://blog.hellowood.dev/posts/openwrt-%E4%BD%BF%E7%94%A8-smartdns/><span>OpenWrt 使用 SmartDNS</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div></article></div><footer class=footer><p>&copy; 2023 <a href=https://blog.hellowood.dev>HelloWood</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank data-umami-event=to-hugo>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank data-umami-event=to-ladder>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g data-umami-event=top-link><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg></a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>