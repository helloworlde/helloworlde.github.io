<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>SpringBoot 中日志使用</title><meta charset=utf-8><meta name=description content="Ladder@SpringBoot 中日志使用 配置日志输出到文件 # 输出到指定文件 logging.file=./logs/application.log # 输出到指定目录下（会写入到 spring.log 中） logging.path=./logs 当同时存在 logging.path 和 logging.file 时 logging.path 无效
日志中添加信息 向日志中添加自定义信息可以使用 MDC类来实现
配置文件 logging.pattern.level=user:%X{user} %5p 类： org.apache.log4j.MDC org.jboss.logging.MDC org.slf4j.MDC MDC.put(&#34;user&#34;, &#34;Hello&#34;); 输出结果 2018-01-18 23:55:10.836 user:Hello INFO 7011 --- [nio-8080-exec-1] cn.com.hellowood.log.LogController : log 2 logback 配置 标签属性 <configuration>
scan: 当属性设置为 true 时， 配置文件如果发生变化会被重新加载，默认为true scanPeriod: 设置监测配置文件是否修改的时间间隔，默认单位是毫秒，默认时间间隔1分钟 debug：当属性设置为true时，将打印logback内部的日志信息，默认为 false <root>：用来指定最基础的日志输出级别
level：设置日志打印级别，大小写不敏感，可以是TRACE,DEBUG,INFO,ERROR,ALL,OFF，默认DEBUG <root level=&#34;debug&#34;> <appender-ref ref=&#34;console&#34; /> <appender-ref ref=&#34;file&#34; /> </root> <contextName>：上下文名称，默认为default，用于区分应用程序，一般改为项目名称，可以通过 %contextName 添加到日志中
<property>：用来定义变量值的标签"><meta name=author content="HelloWood"><link rel=canonical href=https://blog.hellowood.dev/posts/springboot-%E4%B8%AD%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8/><meta name=google-site-verification content="G-3MSGPYTHPZ"><link rel=alternate type=application/rss+xml href=https://blog.hellowood.dev/index.xml title=HelloWood><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MSGPYTHPZ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3MSGPYTHPZ",{anonymize_ip:!1})}</script><script async defer data-website-id=7a9034de-0ce7-4756-942a-829e6cd22301 src=https://umami.hellowood.dev/script.js></script><meta property="og:title" content="SpringBoot 中日志使用"><meta property="og:description" content="SpringBoot 中日志使用 配置日志输出到文件 # 输出到指定文件 logging.file=./logs/application.log # 输出到指定目录下（会写入到 spring.log 中） logging.path=./logs 当同时存在 logging.path 和 logging.file 时 logging.path 无效
日志中添加信息 向日志中添加自定义信息可以使用 MDC类来实现
配置文件 logging.pattern.level=user:%X{user} %5p 类： org.apache.log4j.MDC org.jboss.logging.MDC org.slf4j.MDC MDC.put(&#34;user&#34;, &#34;Hello&#34;); 输出结果 2018-01-18 23:55:10.836 user:Hello INFO 7011 --- [nio-8080-exec-1] cn.com.hellowood.log.LogController : log 2 logback 配置 标签属性 <configuration>
scan: 当属性设置为 true 时， 配置文件如果发生变化会被重新加载，默认为true scanPeriod: 设置监测配置文件是否修改的时间间隔，默认单位是毫秒，默认时间间隔1分钟 debug：当属性设置为true时，将打印logback内部的日志信息，默认为 false <root>：用来指定最基础的日志输出级别
level：设置日志打印级别，大小写不敏感，可以是TRACE,DEBUG,INFO,ERROR,ALL,OFF，默认DEBUG <root level=&#34;debug&#34;> <appender-ref ref=&#34;console&#34; /> <appender-ref ref=&#34;file&#34; /> </root> <contextName>：上下文名称，默认为default，用于区分应用程序，一般改为项目名称，可以通过 %contextName 添加到日志中
<property>：用来定义变量值的标签"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.hellowood.dev/posts/springboot-%E4%B8%AD%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-01-19T21:23:45+00:00"><meta property="article:modified_time" content="2018-01-19T21:23:45+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SpringBoot 中日志使用"><meta name=twitter:description content="SpringBoot 中日志使用 配置日志输出到文件 # 输出到指定文件 logging.file=./logs/application.log # 输出到指定目录下（会写入到 spring.log 中） logging.path=./logs 当同时存在 logging.path 和 logging.file 时 logging.path 无效
日志中添加信息 向日志中添加自定义信息可以使用 MDC类来实现
配置文件 logging.pattern.level=user:%X{user} %5p 类： org.apache.log4j.MDC org.jboss.logging.MDC org.slf4j.MDC MDC.put(&#34;user&#34;, &#34;Hello&#34;); 输出结果 2018-01-18 23:55:10.836 user:Hello INFO 7011 --- [nio-8080-exec-1] cn.com.hellowood.log.LogController : log 2 logback 配置 标签属性 <configuration>
scan: 当属性设置为 true 时， 配置文件如果发生变化会被重新加载，默认为true scanPeriod: 设置监测配置文件是否修改的时间间隔，默认单位是毫秒，默认时间间隔1分钟 debug：当属性设置为true时，将打印logback内部的日志信息，默认为 false <root>：用来指定最基础的日志输出级别
level：设置日志打印级别，大小写不敏感，可以是TRACE,DEBUG,INFO,ERROR,ALL,OFF，默认DEBUG <root level=&#34;debug&#34;> <appender-ref ref=&#34;console&#34; /> <appender-ref ref=&#34;file&#34; /> </root> <contextName>：上下文名称，默认为default，用于区分应用程序，一般改为项目名称，可以通过 %contextName 添加到日志中
<property>：用来定义变量值的标签"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.hellowood.dev/posts/"},{"@type":"ListItem","position":3,"name":"SpringBoot 中日志使用","item":"https://blog.hellowood.dev/posts/springboot-%E4%B8%AD%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SpringBoot 中日志使用","name":"SpringBoot 中日志使用","description":"SpringBoot 中日志使用 配置日志输出到文件 # 输出到指定文件 logging.file=./logs/application.log # 输出到指定目录下（会写入到 spring.log 中） logging.path=./logs 当同时存在 logging.path 和 logging.file 时 logging.path 无效\n日志中添加信息 向日志中添加自定义信息可以使用 MDC类来实现\n配置文件 logging.pattern.level=user:%X{user} %5p 类： org.apache.log4j.MDC org.jboss.logging.MDC org.slf4j.MDC MDC.put(\u0026#34;user\u0026#34;, \u0026#34;Hello\u0026#34;); 输出结果 2018-01-18 23:55:10.836 user:Hello INFO 7011 --- [nio-8080-exec-1] cn.com.hellowood.log.LogController : log 2 logback 配置 标签属性 \u0026lt;configuration\u0026gt;\nscan: 当属性设置为 true 时， 配置文件如果发生变化会被重新加载，默认为true scanPeriod: 设置监测配置文件是否修改的时间间隔，默认单位是毫秒，默认时间间隔1分钟 debug：当属性设置为true时，将打印logback内部的日志信息，默认为 false \u0026lt;root\u0026gt;：用来指定最基础的日志输出级别\nlevel：设置日志打印级别，大小写不敏感，可以是TRACE,DEBUG,INFO,ERROR,ALL,OFF，默认DEBUG \u0026lt;root level=\u0026#34;debug\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;console\u0026#34; /\u0026gt; \u0026lt;appender-ref ref=\u0026#34;file\u0026#34; /\u0026gt; \u0026lt;/root\u0026gt; \u0026lt;contextName\u0026gt;：上下文名称，默认为default，用于区分应用程序，一般改为项目名称，可以通过 %contextName 添加到日志中\n\u0026lt;property\u0026gt;：用来定义变量值的标签","keywords":["Java","SpringBoot","Log"],"articleBody":"SpringBoot 中日志使用 配置日志输出到文件 # 输出到指定文件 logging.file=./logs/application.log # 输出到指定目录下（会写入到 spring.log 中） logging.path=./logs 当同时存在 logging.path 和 logging.file 时 logging.path 无效\n日志中添加信息 向日志中添加自定义信息可以使用 MDC类来实现\n配置文件 logging.pattern.level=user:%X{user} %5p 类： org.apache.log4j.MDC org.jboss.logging.MDC org.slf4j.MDC MDC.put(\"user\", \"Hello\"); 输出结果 2018-01-18 23:55:10.836 user:Hello INFO 7011 --- [nio-8080-exec-1] cn.com.hellowood.log.LogController : log 2 logback 配置 标签属性 scan: 当属性设置为 true 时， 配置文件如果发生变化会被重新加载，默认为true scanPeriod: 设置监测配置文件是否修改的时间间隔，默认单位是毫秒，默认时间间隔1分钟 debug：当属性设置为true时，将打印logback内部的日志信息，默认为 false ：用来指定最基础的日志输出级别\nlevel：设置日志打印级别，大小写不敏感，可以是TRACE,DEBUG,INFO,ERROR,ALL,OFF，默认DEBUG ：上下文名称，默认为default，用于区分应用程序，一般改为项目名称，可以通过 %contextName 添加到日志中\n：用来定义变量值的标签\nname：变量的名称 value：变量的值 定义的变量可以通过${}使用\n：用来格式化日志输出节点 name：appender 的名称\nclass：用来指定输出策略，通用的有控制台输出和文件输出\n子标签 和作用一样，但是仅仅是将 event事件变成字符串，而 将 event事件变成 byte数组并输出到文件中\n：指定某个包或类的日志属性\nname：类或包名 level：日志级别 addtivity：日志是否向上级传递打印，默认是 true 子节点：用于指定输出到那个 appender，用ref属性指定 ... 此时会打印在 CONSOLE上，如果将additivity改为true，则CONSOLE和root各会打印一次\n：设置不同环境下启用不同的规则 name ：环境的名称，可以是test, dev, prod, staging等；和 application-${env}.properties一直即可 ：通过 Spring 的 Enviroment获取属性，用于从application.properties读取参数，作用和 一样 scope：读取属性的范围，一般为context name：属性名称 source：application.properties文件里的配置名称，必须是串的形式（app.property） defaultValue：默认值 配置文件 常用配置 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e SpringBootLog %d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} - %msg%n ${LOG_PATH}/SpringBootLog.log ${LOG_PATH}/SpringBootLog-%d{yyyy-MM-dd}.%i.log 10MB 30 true ${FILE_LOG_PATTERN} utf-8 ERROR ACCEPT DENY Pattern 属性 %p: 输出日志信息优先级，即DEBUG，INFO，WARN，ERROR，FATAL,\n%d: 输出日志时间点的日期或时间，默认格式为ISO8601，也可以在其后指定格式，比如：%d{yyyy-MM-dd HH:mm:ss.SSS}，输出类似：2018-01-19 14:47:03.735\n%r: 输出自应用启动到输出该log信息耗费的毫秒数\n%c: 输出日志信息所属的类目，通常就是所在类的全名\n%t: 输出产生该日志事件的线程名\n%l: 输出日志事件的发生位置，相当于%C.%M(%F:%L)的组合,包括类目名、发生的线程，以及在代码中的行数\n%x: 输出和当前线程相关联的NDC(嵌套诊断环境),尤其用到像java servlets这样的多客户多线程的应用中\n%%: 输出一个%字符, %F: 输出日志消息产生时所在的文件名称；%L: 输出代码中的行号；%m: 输出代码中指定的消息,产生的日志具体信息\n%n: 输出一个回车换行符，Windows平台为\\r\\n，Unix平台为\\n输出日志信息换行\n可以在%与模式字符之间加上修饰符来控制其最小宽度、最大宽度、和文本的对齐方式。如：\n%20c：指定输出category的名称，最小的宽度是20，如果category的名称小于20的话，默认的情况下右对齐。\n%-20c:指定输出category的名称，最小的宽度是20，如果category的名称小于20的话，-号指定左对齐。\n%.30c:指定输出category的名称，最大的宽度是30，如果category的名称大于30的话，就会将左边多出的字符截掉，但小于30的话也不会有空格。\n%20.30c:如果category的名称小于20就补空格，并且右对齐，如果其名称长于30字符，就从左边交远销出的字符截掉。\n","wordCount":"296","inLanguage":"en","datePublished":"2018-01-19T21:23:45Z","dateModified":"2018-01-19T21:23:45Z","author":{"@type":"Person","name":"HelloWood"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.hellowood.dev/posts/springboot-%E4%B8%AD%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8/"},"publisher":{"@type":"Organization","name":"HelloWood","logo":{"@type":"ImageObject","url":"https://blog.hellowood.dev/favicon.ico"}}}</script><link rel=icon href=/images/avatar.png sizes=16x16><link rel=apple-touch-icon href=/images/avatar.png><link rel=manifest href=/images/avatar.png><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.f8020eba33d585b82c30b2a1ceb0d4c4e8e41fb6d8843d07d8ad056da8712972.css integrity="sha256-+AIOujPVhbgsMLKhzrDUxOjkH7bYhD0H2K0FbahxKXI=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.872dfd2cd00064018a833a6e8e77a0fbf8fbac159546f2f205d4dad79a5d8e15.js></script>
<script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>HOME</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/posts>Blog</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/tags>Tags</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives>Archive</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=https://umami.hellowood.dev/share/lab/Blog>Dashboard</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/helloworlde><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>SpringBoot 中日志使用</h1></header><p><small>January 19, 2018&nbsp;· 296 words&nbsp;· 2 min</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#配置日志输出到文件>配置日志输出到文件</a></li><li><a href=#日志中添加信息>日志中添加信息</a></li><li><a href=#logback-配置>logback 配置</a><ul><li><a href=#标签属性>标签属性</a></li></ul></li><li><a href=#配置文件>配置文件</a></li><li><a href=#pattern-属性>Pattern 属性</a></li></ul></nav></div><section class=blog-content><h1 id=springboot-中日志使用>SpringBoot 中日志使用</h1><h2 id=配置日志输出到文件>配置日志输出到文件</h2><pre tabindex=0><code># 输出到指定文件
logging.file=./logs/application.log

# 输出到指定目录下（会写入到 spring.log 中）
logging.path=./logs
</code></pre><p>当同时存在 <code>logging.path</code> 和 <code>logging.file</code> 时 <code>logging.path</code> 无效</p><h2 id=日志中添加信息>日志中添加信息</h2><p>向日志中添加自定义信息可以使用 <code>MDC</code>类来实现</p><ul><li>配置文件</li></ul><pre tabindex=0><code>logging.pattern.level=user:%X{user} %5p
</code></pre><ul><li>类：<ul><li><code>org.apache.log4j.MDC</code></li><li><code>org.jboss.logging.MDC</code></li><li><code>org.slf4j.MDC</code></li></ul></li></ul><pre tabindex=0><code>MDC.put(&#34;user&#34;, &#34;Hello&#34;);
</code></pre><ul><li>输出结果</li></ul><pre tabindex=0><code>2018-01-18 23:55:10.836 user:Hello  INFO 7011 --- [nio-8080-exec-1] cn.com.hellowood.log.LogController       : log 2
</code></pre><hr><h2 id=logback-配置>logback 配置</h2><h3 id=标签属性>标签属性</h3><ul><li><p><code>&lt;configuration></code></p><ul><li><code>scan</code>: 当属性设置为 <code>true</code> 时， 配置文件如果发生变化会被重新加载，默认为<code>true</code></li><li><code>scanPeriod</code>: 设置监测配置文件是否修改的时间间隔，默认单位是毫秒，默认时间间隔1分钟</li><li><code>debug</code>：当属性设置为<code>true</code>时，将打印<code>logback</code>内部的日志信息，默认为 <code>false</code></li></ul></li><li><p><code>&lt;root></code>：用来指定最基础的日志输出级别</p><ul><li><code>level</code>：设置日志打印级别，大小写不敏感，可以是<code>TRACE,DEBUG,INFO,ERROR,ALL,OFF</code>，默认<code>DEBUG</code></li></ul></li></ul><pre tabindex=0><code>&lt;root level=&#34;debug&#34;&gt;
  &lt;appender-ref ref=&#34;console&#34; /&gt;
  &lt;appender-ref ref=&#34;file&#34; /&gt;
&lt;/root&gt;
</code></pre><ul><li><p><code>&lt;contextName></code>：上下文名称，默认为<code>default</code>，用于区分应用程序，一般改为项目名称，可以通过 <code>%contextName</code> 添加到日志中</p></li><li><p><code>&lt;property></code>：用来定义变量值的标签</p><ul><li><code>name</code>：变量的名称</li><li><code>value</code>：变量的值</li></ul></li></ul><p>定义的变量可以通过<code>${}</code>使用</p><ul><li><code>&lt;appender></code>：用来格式化日志输出节点<ul><li><p><code>name</code>：<code>appender</code> 的名称</p></li><li><p><code>class</code>：用来指定输出策略，通用的有控制台输出和文件输出</p></li><li><p>子标签 <code>&lt;layout></code>和<code>&lt;encoder></code>作用一样，但是<code>&lt;layout></code>仅仅是将 <code>event</code>事件变成字符串，而 <code>&lt;encoder></code>将 <code>event</code>事件变成 <code>byte</code>数组并输出到文件中</p></li><li><p><code>&lt;logger></code>：指定某个包或类的日志属性</p><ul><li><code>name</code>：类或包名</li><li><code>level</code>：日志级别</li><li><code>addtivity</code>：日志是否向上级传递打印，默认是 <code>true</code></li><li>子节点<code>&lt;appender-ref></code>：用于指定输出到那个 <code>appender</code>，用<code>ref</code>属性指定</li></ul></li></ul></li></ul><pre tabindex=0><code>&lt;configuration&gt;
    ...
    
    &lt;!--类名或包名 --&gt;
    &lt;logger name=&#34;cn.com.hellowood&#34; level=&#34;DEBUG&#34; additivity=&#34;false&#34;&gt;
        &lt;appender-ref ref=&#34;CONSOLE&#34;/&gt;
    &lt;/logger&gt;
&lt;/configuration&gt;
</code></pre><p>此时会打印在 <code>CONSOLE</code>上，如果将<code>additivity</code>改为<code>true</code>，则<code>CONSOLE</code>和<code>root</code>各会打印一次</p><ul><li><code>&lt;springProfile></code>：设置不同环境下启用不同的规则<ul><li><code>name</code> ：环境的名称，可以是<code>test</code>, <code>dev</code>, <code>prod</code>, <code>staging</code>等；和 <code>application-${env}.properties</code>一直即可</li></ul></li></ul><pre tabindex=0><code>&lt;!-- 环境用逗号隔开 --&gt;
&lt;springProfile name=&#34;test,dev&#34;&gt;
    &lt;logger name=&#34;cn.com.hellowood&#34; level=&#34;DEBUG&#34; additivity=&#34;false&#34;&gt;
        &lt;appender-ref ref=&#34;CONSOLE&#34;/&gt;
    &lt;/logger&gt;
&lt;/springProfile&gt;
</code></pre><ul><li><code>&lt;springProperty></code> ：通过 Spring 的 <code>Enviroment</code>获取属性，用于从<code>application.properties</code>读取参数，作用和 <code>&lt;property></code>一样<ul><li><code>scope</code>：读取属性的范围，一般为<code>context</code></li><li><code>name</code>：属性名称</li><li><code>source</code>：<code>application.properties</code>文件里的配置名称，必须是串的形式（<code>app.property</code>）</li><li><code>defaultValue</code>：默认值</li></ul></li></ul><hr><h2 id=配置文件>配置文件</h2><ul><li>常用配置</li></ul><pre tabindex=0><code>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;configuration scan=&#34;true&#34; scanPeriod=&#34;60 seconds&#34; debug=&#34;false&#34;&gt;
    
    &lt;springProperty name=&#34;LOG_PATH&#34; value=&#34;SpringBoot-Log/out/logs&#34;/&gt;
    &lt;contextName&gt;SpringBootLog&lt;/contextName&gt;
    &lt;conversionRule conversionWord=&#34;clr&#34; converterClass=&#34;org.springframework.boot.logging.logback.ColorConverter&#34; /&gt;
    &lt;conversionRule conversionWord=&#34;wex&#34; converterClass=&#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&#34; /&gt;
    &lt;conversionRule conversionWord=&#34;wEx&#34; converterClass=&#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&#34; /&gt;
    &lt;property name=&#34;CONSOLE_LOG_PATTERN&#34; value=&#34;${CONSOLE_LOG_PATTERN:-%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%21.21t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&#34;/&gt;
    &lt;property name=&#34;FILE_LOG_PATTERN&#34; value=&#34;${FILE_LOG_PATTERN:-%d{yyyy-MM-dd HH:mm:ss.SSS} ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%21.21t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&#34;/&gt;

    
    &lt;!--输出到控制台 ConsoleAppender--&gt;
    &lt;appender name=&#34;CONSOLE&#34; class=&#34;ch.qos.logback.core.ConsoleAppender&#34;&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;

    &lt;!-- 输出到文件 --&gt;
    &lt;appender name=&#34;FILE&#34; class=&#34;ch.qos.logback.core.rolling.RollingFileAppender&#34;&gt;
        &lt;!-- 正在记录的日志文件的路径及文件名 --&gt;
        &lt;file&gt;${LOG_PATH}/SpringBootLog.log&lt;/file&gt;
        &lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;
        &lt;rollingPolicy class=&#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&#34;&gt;
             &lt;!--归档的日志文件的路径，%d{yyyy-MM-dd}指定日期格式，%i指定索引 --&gt;
            &lt;fileNamePattern&gt;${LOG_PATH}/SpringBootLog-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;
            &lt;!-- 若超过10M，日志文件会以索引0开始 --&gt;
            &lt;timeBasedFileNamingAndTriggeringPolicy class=&#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&#34;&gt;
                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;
            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;
            &lt;!--日志文件保留天数--&gt;
            &lt;MaxHistory&gt;30&lt;/MaxHistory&gt;
        &lt;/rollingPolicy&gt;
        &lt;!-- 追加方式记录日志 --&gt;
        &lt;append&gt;true&lt;/append&gt;
        &lt;!-- 日志文件的格式 --&gt;
        &lt;encoder class=&#34;ch.qos.logback.classic.encoder.PatternLayoutEncoder&#34;&gt;
            &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;
            &lt;charset&gt;utf-8&lt;/charset&gt;
        &lt;/encoder&gt;
        &lt;!--设置日志输出级别--&gt;
        &lt;filter class=&#34;ch.qos.logback.classic.filter.LevelFilter&#34;&gt;
            &lt;level&gt;ERROR&lt;/level&gt;
            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;
            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;
        &lt;/filter&gt;
    &lt;/appender&gt;
    &lt;!-- 指定包的日志级别 --&gt;
    &lt;logger name=&#34;org.springframework&#34; level=&#34;WARN&#34; /&gt;

    &lt;!--指定最基础的日志输出级别--&gt;
    &lt;root level=&#34;INFO&#34;&gt;
        &lt;!--appender将会添加到这个logger--&gt;
        &lt;appender-ref ref=&#34;CONSOLE&#34;/&gt;
        &lt;appender-ref ref=&#34;FILE&#34;/&gt;
    &lt;/root&gt;

&lt;/configuration&gt;
</code></pre><hr><h2 id=pattern-属性>Pattern 属性</h2><ul><li><p><code>%p</code>: 输出日志信息优先级，即<code>DEBUG</code>，<code>INFO</code>，<code>WARN</code>，<code>ERROR</code>，<code>FATAL</code>,</p></li><li><p><code>%d</code>: 输出日志时间点的日期或时间，默认格式为<code>ISO8601</code>，也可以在其后指定格式，比如：<code>%d{yyyy-MM-dd HH:mm:ss.SSS}</code>，输出类似：<code>2018-01-19 14:47:03.735</code></p></li><li><p><code>%r</code>: 输出自应用启动到输出该log信息耗费的毫秒数</p></li><li><p><code>%c</code>: 输出日志信息所属的类目，通常就是所在类的全名</p></li><li><p><code>%t</code>: 输出产生该日志事件的线程名</p></li><li><p><code>%l</code>: 输出日志事件的发生位置，相当于<code>%C.%M(%F:%L)</code>的组合,包括类目名、发生的线程，以及在代码中的行数</p></li><li><p><code>%x</code>: 输出和当前线程相关联的NDC(嵌套诊断环境),尤其用到像java servlets这样的多客户多线程的应用中</p></li><li><p><code>%%</code>: 输出一个<code>%</code>字符, <code>%F</code>: 输出日志消息产生时所在的文件名称；<code>%L</code>: 输出代码中的行号；<code>%m</code>: 输出代码中指定的消息,产生的日志具体信息</p></li><li><p><code>%n</code>: 输出一个回车换行符，Windows平台为<code>\r\n</code>，Unix平台为<code>\n</code>输出日志信息换行</p></li><li><p>可以在<code>%</code>与模式字符之间加上修饰符来控制其最小宽度、最大宽度、和文本的对齐方式。如：</p><ul><li><p><code>%20c</code>：指定输出<code>category</code>的名称，最小的宽度是20，如果category的名称小于20的话，默认的情况下右对齐。</p></li><li><p><code>%-20c</code>:指定输出<code>category</code>的名称，最小的宽度是20，如果category的名称小于20的话，<code>-</code>号指定左对齐。</p></li><li><p><code>%.30c</code>:指定输出<code>category</code>的名称，最大的宽度是30，如果<code>category</code>的名称大于30的话，就会将左边多出的字符截掉，但小于30的话也不会有空格。</p></li><li><p><code>%20.30c</code>:如果<code>category</code>的名称小于20就补空格，并且右对齐，如果其名称长于30字符，就从左边交远销出的字符截掉。</p></li></ul></li></ul></section><div class=paginator><a class=prev href=https://blog.hellowood.dev/posts/springboot-logback-%E8%BE%93%E5%87%BA%E6%97%A5%E5%BF%97%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93logstash/><span>&larr;&nbsp;&nbsp;</span><span>SpringBoot logback 输出日志到数据库、Logstash</span></a>
<a class=next href=https://blog.hellowood.dev/posts/springboot-%E4%BD%BF%E7%94%A8-elasticsearch/><span>SpringBoot 使用 ElasticSearch</span><span>&nbsp;&nbsp;&rarr;</span></a></div></article></div><footer class=footer><p>&copy; 2023 <a href=https://blog.hellowood.dev>HelloWood</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg></a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>