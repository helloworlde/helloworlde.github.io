<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D;--font-size:17.5px}</style><title>红米 AX6000 解锁 SSH 并刷机 OpenWrt 系统</title><meta name=description content="红米 AX6000 是 WiFi6 早期阶段性能极强并且有性价比的路由器，缺点是不支持 2.5G网口；在使用两年后刷为 OpenWrt 用于安装 OpenClash 等软件
启用 telnet 并解锁 SSH 刷机需要登录到路由器操作，因此需要先启用 telnet 并解锁 SSH；解锁过程比较简单，直接访问对应的地址就 …"><meta name=keywords content='blog,hugo,MiWiFi,Router,HomeLab,OpenWrt'><meta property="og:url" content="https://blog.hellowood.dev/posts/%E7%BA%A2%E7%B1%B3-ax6000-%E8%A7%A3%E9%94%81-ssh-%E5%B9%B6%E5%88%B7%E6%9C%BA-openwrt-%E7%B3%BB%E7%BB%9F/"><meta property="og:type" content="website"><meta property="og:title" content="红米 AX6000 解锁 SSH 并刷机 OpenWrt 系统"><meta property="og:description" content="红米 AX6000 是 WiFi6 早期阶段性能极强并且有性价比的路由器，缺点是不支持 2.5G网口；在使用两年后刷为 OpenWrt 用于安装 OpenClash 等软件
启用 telnet 并解锁 SSH 刷机需要登录到路由器操作，因此需要先启用 telnet 并解锁 SSH；解锁过程比较简单，直接访问对应的地址就 …"><meta property="og:image" content="https://blog.hellowood.dev/images/avatar.webp"><meta property="og:image:secure_url" content="https://blog.hellowood.dev/images/avatar.webp"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="红米 AX6000 解锁 SSH 并刷机 OpenWrt 系统"><meta name=twitter:description content="红米 AX6000 是 WiFi6 早期阶段性能极强并且有性价比的路由器，缺点是不支持 2.5G网口；在使用两年后刷为 OpenWrt 用于安装 OpenClash 等软件
启用 telnet 并解锁 SSH 刷机需要登录到路由器操作，因此需要先启用 telnet 并解锁 SSH；解锁过程比较简单，直接访问对应的地址就 …"><meta property="twitter:domain" content="https://blog.hellowood.dev/posts/%E7%BA%A2%E7%B1%B3-ax6000-%E8%A7%A3%E9%94%81-ssh-%E5%B9%B6%E5%88%B7%E6%9C%BA-openwrt-%E7%B3%BB%E7%BB%9F/"><meta property="twitter:url" content="https://blog.hellowood.dev/posts/%E7%BA%A2%E7%B1%B3-ax6000-%E8%A7%A3%E9%94%81-ssh-%E5%B9%B6%E5%88%B7%E6%9C%BA-openwrt-%E7%B3%BB%E7%BB%9F/"><meta name=twitter:image content="https://blog.hellowood.dev/images/avatar.webp"><link rel=canonical href=https://blog.hellowood.dev/posts/%E7%BA%A2%E7%B1%B3-ax6000-%E8%A7%A3%E9%94%81-ssh-%E5%B9%B6%E5%88%B7%E6%9C%BA-openwrt-%E7%B3%BB%E7%BB%9F/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.70293498aa96b2dbb767ec11a622eb2266d8fc37a0fff88233a82952e3c72b15.js integrity="sha256-cCk0mKqWstu3Z+wRpiLrImbY/Deg//iCM6gpUuPHKxU="></script><link rel=stylesheet type=text/css href=/css/custom.css><script defer src=https://umami.hellowood.dev/script.js data-website-id=7a9034de-0ce7-4756-942a-829e6cd22301></script><script defer src=https://cloud.umami.is/script.js data-website-id=73ff1c8c-9938-43cf-81af-e77e26b0cca3></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "b2e481d136dc428c8c96c8673e2a04cf"}'></script><meta name=google-adsense-account content="ca-pub-3401351766168985"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3401351766168985" crossorigin=anonymous></script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","jtbhx98g62")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MSGPYTHPZ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3MSGPYTHPZ")</script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://blog.hellowood.dev/><img src=/images/avatar.webp alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://blog.hellowood.dev/>HelloWood</a></div><div class=nav-links><div class=nav-link><a href=https://blog.hellowood.dev/ aria-label><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://blog.hellowood.dev/posts/ aria-label><span data-feather=book></span> Posts</a></div><div class=nav-link><a href=https://blog.hellowood.dev/tags/ aria-label><span data-feather=tag></span> Tags</a></div><div class=nav-link><a href=https://github.com/helloworlde aria-label=github><span data-feather=github></span></a></div><div class=nav-link><a href=https://umami.hellowood.dev/share/lab/Blog aria-label=dashboard><span data-feather=pie-chart></span></a></div><div class=nav-link><a href=https://blog.hellowood.dev/index.xml aria-label=rss><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a aria-hidden=true role=switch><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a aria-checked=false aria-labelledby=hamburger-menu-toggle id=hamburger-menu-toggle-target role=switch><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.hellowood.dev/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://blog.hellowood.dev/posts/><span data-feather=book></span> Posts</a></li><li class=nav-item><a href=https://blog.hellowood.dev/tags/><span data-feather=tag></span> Tags</a></li><li class=nav-item><a href=https://github.com/helloworlde><span data-feather=github></span></a></li><li class=nav-item><a href=https://umami.hellowood.dev/share/lab/Blog><span data-feather=pie-chart></span></a></li><li class=nav-item><a href=https://blog.hellowood.dev/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a role=switch><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>红米 AX6000 解锁 SSH 并刷机 OpenWrt 系统</h1><small role=doc-subtitle></small><p class=post-date>2025-04-20</p><ul class=post-tags><li class=post-tag><a href=https://blog.hellowood.dev/tags/miwifi>MiWiFi</a></li><li class=post-tag><a href=https://blog.hellowood.dev/tags/router>Router</a></li><li class=post-tag><a href=https://blog.hellowood.dev/tags/homelab>HomeLab</a></li><li class=post-tag><a href=https://blog.hellowood.dev/tags/openwrt>OpenWrt</a></li></ul></div><div class=post-content><p>红米 AX6000 是 WiFi6 早期阶段性能极强并且有性价比的路由器，缺点是不支持 2.5G网口；在使用两年后刷为 OpenWrt 用于安装 OpenClash 等软件</p><h2 id=启用-telnet-并解锁-ssh>启用 telnet 并解锁 SSH</h2><p>刷机需要登录到路由器操作，因此需要先启用 telnet 并解锁 SSH；解锁过程比较简单，直接访问对应的地址就可以</p><h3 id=确认固件版本>确认固件版本</h3><p>登录路由器后台，需要确认固件版本是否是 1.0.48、1.0.60 或者 1.0.67，只有这三个版本支持；如果不是这三个版本，需要下载其中某个版本刷入；最新的固件版本是 1.0.67，并且这款路由器已经没有新版本更新了</p><p>固件地址可以参考: <a href=https://openwrt.org/toh/xiaomi/redmi_ax6000#install_vulnerable_version>https://openwrt.org/toh/xiaomi/redmi_ax6000#install_vulnerable_version</a></p><h3 id=启用-telnet>启用 telnet</h3><ul><li>获取 stock</li></ul><p>stock 是小米路由器访问的鉴权 token，每次登录后生成新的，登录后可以浏览器的地址栏 URL 中直接获取，比如：066801299c1f7845d1871e50c4a307df</p><ul><li>开启开发/调试模式</li></ul><p>将 <code>{token}</code> 替换为 URL获取的 stock，浏览器访问 URL:</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http://192.168.31.1/cgi-bin/luci/;<span style=color:#dcaeea>stok</span><span style=color:#c7bf54>={</span>token<span style=color:#c7bf54>}</span>/api/misystem/set_sys_time?timezone<span style=color:#c7bf54>=</span>%20%27%20%3B%20echo%20pVoAAA%3D%3D%20%7C%20base64%20-d%20%7C%20mtd%20write%20-%20crash%20%3B%20
</span></span></code></pre></div><p>这个操作会将 <code>\xa5\x5a\x00\x00</code> 写入分区，用于开启开发/调试模式，返回 code 0 表示操作成功</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#e06c75>&#34;code&#34;</span>: <span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>然后访问重启路由器</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http://192.168.31.1/cgi-bin/luci/;<span style=color:#dcaeea>stok</span><span style=color:#c7bf54>={</span>token<span style=color:#c7bf54>}</span>/api/misystem/set_sys_time?timezone<span style=color:#c7bf54>=</span>%20%27%20%3b%20reboot%20%3b%20
</span></span></code></pre></div><ul><li>修改 Bdata, 开启 telnet</li></ul><p>再次获取 stock, 访问以下 URL 开启 telnet/ssh/uart 访问，返回 0 表示成功</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http://192.168.31.1/cgi-bin/luci/;<span style=color:#dcaeea>stok</span><span style=color:#c7bf54>={</span>token<span style=color:#c7bf54>}</span>/api/misystem/set_sys_time?timezone<span style=color:#c7bf54>=</span>%20%27%20%3B%20bdata%20set%20telnet_en%3D1%20%3B%20bdata%20set%20ssh_en%3D1%20%3B%20bdata%20commit%20%3B%20
</span></span></code></pre></div><p>然后再次访问 URL 重启路由器</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http://192.168.31.1/cgi-bin/luci/;<span style=color:#dcaeea>stok</span><span style=color:#c7bf54>={</span>token<span style=color:#c7bf54>}</span>/api/misystem/set_sys_time?timezone<span style=color:#c7bf54>=</span>%20%27%20%3b%20reboot%20%3b%20
</span></span></code></pre></div><h3 id=启用-ssh>启用 ssh</h3><ul><li>通过 telnet 访问命令行</li></ul><p>经过上述操作后，通过 telnet 即可进入路由器的命令行：</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>telnet 192.168.31.1
</span></span></code></pre></div><ul><li>开启并固化 ssh</li></ul><p>如果只需要刷为 OpenWrt，这一步不需要执行；如果不想刷机了，只想开启 ssh，可以通过设置启动脚本的方式自定开启 ssh</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ef8383>echo</span> -e <span style=color:#98c379>&#39;admin\nadmin&#39;</span> | passwd root
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>ssh_en</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>telnet_en</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>uart_en</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>boot_wait</span><span style=color:#c7bf54>=</span>on
</span></span><span style=display:flex><span>nvram commit
</span></span><span style=display:flex><span>sed -i <span style=color:#98c379>&#39;s/channel=.*/channel=&#34;debug&#34;/g&#39;</span> /etc/init.d/dropbear
</span></span><span style=display:flex><span>/etc/init.d/dropbear restart
</span></span><span style=display:flex><span>mkdir /data/auto_ssh
</span></span><span style=display:flex><span><span style=color:#ef8383>cd</span> /data/auto_ssh
</span></span><span style=display:flex><span>curl -O https://fastly.jsdelivr.net/gh/lemoeo/AX6S@main/auto_ssh.sh
</span></span><span style=display:flex><span>chmod +x auto_ssh.sh
</span></span><span style=display:flex><span>uci <span style=color:#ef8383>set</span> firewall.auto_ssh<span style=color:#c7bf54>=</span>include
</span></span><span style=display:flex><span>uci <span style=color:#ef8383>set</span> firewall.auto_ssh.type<span style=color:#c7bf54>=</span><span style=color:#98c379>&#39;script&#39;</span>
</span></span><span style=display:flex><span>uci <span style=color:#ef8383>set</span> firewall.auto_ssh.path<span style=color:#c7bf54>=</span><span style=color:#98c379>&#39;/data/auto_ssh/auto_ssh.sh&#39;</span>
</span></span><span style=display:flex><span>uci <span style=color:#ef8383>set</span> firewall.auto_ssh.enabled<span style=color:#c7bf54>=</span><span style=color:#98c379>&#39;1&#39;</span>
</span></span><span style=display:flex><span>uci commit firewall
</span></span><span style=display:flex><span>uci <span style=color:#ef8383>set</span> system.@system<span style=color:#c7bf54>[</span>0<span style=color:#c7bf54>]</span>.timezone<span style=color:#c7bf54>=</span><span style=color:#98c379>&#39;CST-8&#39;</span>
</span></span><span style=display:flex><span>uci <span style=color:#ef8383>set</span> system.@system<span style=color:#c7bf54>[</span>0<span style=color:#c7bf54>]</span>.webtimezone<span style=color:#c7bf54>=</span><span style=color:#98c379>&#39;CST-8&#39;</span>
</span></span><span style=display:flex><span>uci <span style=color:#ef8383>set</span> system.@system<span style=color:#c7bf54>[</span>0<span style=color:#c7bf54>]</span>.timezoneindex<span style=color:#c7bf54>=</span><span style=color:#98c379>&#39;2.84&#39;</span>
</span></span><span style=display:flex><span>uci commit
</span></span><span style=display:flex><span>mtd erase crash
</span></span><span style=display:flex><span>reboot
</span></span></code></pre></div><h2 id=刷入-openwrt>刷入 OpenWrt</h2><p>AX6000 有两种分区方式，stock 方式和 U-Boot 方式；U-Boot 方式会覆盖路由器的分区，存储空间会增加，但是无法恢复为官方的模式；如果想后续刷回小米的固件，建议使用 stock 方式</p><p>刷入 OpenWrt 需要先刷入中间固件，然后再刷入升级固件；</p><ul><li>通过 ssh/telnet 登录路由器</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>telnet 192.168.31.1
</span></span></code></pre></div><ul><li>确认固件类型</li></ul><p>AX6000 有两种固件类型，通过 <code>/proc/cmdline</code> 可以获取</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat /proc/cmdline
</span></span><span style=display:flex><span><span style=color:#dcaeea>console</span><span style=color:#c7bf54>=</span>ttyS0,115200n1 <span style=color:#dcaeea>loglevel</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>8</span> <span style=color:#dcaeea>firmware</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>1</span> <span style=color:#dcaeea>uart_en</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>1</span>
</span></span></code></pre></div><p>我的 firmware=1，如果是 firmware=0，参考 <a href=https://openwrt.org/toh/xiaomi/redmi_ax6000#installing_openwrt_stock_layout>redmi_ax6000#installing_openwrt_stock_layout</a> 操作</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>boot_wait</span><span style=color:#c7bf54>=</span>on
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>uart_en</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>flag_boot_rootfs</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>flag_last_success</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>flag_boot_success</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>flag_try_sys1_failed</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>nvram <span style=color:#ef8383>set</span> <span style=color:#dcaeea>flag_try_sys2_failed</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>nvram commit
</span></span></code></pre></div><h3 id=刷入过渡固件>刷入过渡固件</h3><ul><li>下载固件</li></ul><p>最新的固件地址可以从 <a href=https://openwrt.org/toh/xiaomi/redmi_ax6000#installation>redmi_ax6000#installation</a> 的 <code>Firmware OpenWrt Install URL</code> 获取下载地址</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ef8383>cd</span> /tmp <span style=color:#c7bf54>&amp;&amp;</span> curl -O https://downloads.openwrt.org/releases/24.10.0/targets/mediatek/filogic/openwrt-24.10.0-mediatek-filogic-xiaomi_redmi-router-ax6000-stock-initramfs-factory.ubi
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
</span></span><span style=display:flex><span>                                 Dload  Upload   Total   Spent    Left  Speed
</span></span><span style=display:flex><span><span style=color:#d19a66>100</span> 9600k  <span style=color:#d19a66>100</span> 9600k    <span style=color:#d19a66>0</span>     <span style=color:#d19a66>0</span>  <span style=color:#d19a66>53023</span>      <span style=color:#d19a66>0</span>  0:03:05  0:03:05 --:--:-- <span style=color:#d19a66>82171</span>
</span></span></code></pre></div><ul><li>刷入 OpenWrt 固件</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ubiformat /dev/mtd8 -y -f /tmp/openwrt-24.10.0-mediatek-filogic-xiaomi_redmi-router-ax6000-stock-initramfs-factory.ubi
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ubiformat: mtd8 <span style=color:#c7bf54>(</span>nand<span style=color:#c7bf54>)</span>, size <span style=color:#d19a66>31457280</span> bytes <span style=color:#c7bf54>(</span>30.0 MiB<span style=color:#c7bf54>)</span>, <span style=color:#d19a66>240</span> eraseblocks of <span style=color:#d19a66>131072</span> bytes <span style=color:#c7bf54>(</span>128.0 KiB<span style=color:#c7bf54>)</span>, min. I/O size <span style=color:#d19a66>2048</span> bytes
</span></span><span style=display:flex><span>libscan: scanning eraseblock <span style=color:#d19a66>239</span> -- <span style=color:#d19a66>100</span> % <span style=color:#ef8383>complete</span>
</span></span><span style=display:flex><span>ubiformat: <span style=color:#d19a66>240</span> eraseblocks have valid erase counter, mean value is <span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>ubiformat: flashing eraseblock <span style=color:#d19a66>74</span> -- <span style=color:#d19a66>100</span> % <span style=color:#ef8383>complete</span>
</span></span><span style=display:flex><span>ubiformat: formatting eraseblock <span style=color:#d19a66>239</span> -- <span style=color:#d19a66>100</span> % <span style=color:#ef8383>complete</span>
</span></span></code></pre></div><p>然后执行 <code>reboot</code> 重启</p><ul><li>配置从系统 0 启动</li></ul><p>重启后会进入 OpenWrt initramfs 系统，地址由 <code>192.168.31.1</code> 变为 <code>192.168.1.1</code>；然后执行以下命令配置固定从系统 0 启动，即 OpenWrt 系统</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>fw_setenv boot_wait on
</span></span><span style=display:flex><span>fw_setenv uart_en <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>fw_setenv flag_boot_rootfs <span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>fw_setenv flag_last_success <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>fw_setenv flag_boot_success <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>fw_setenv flag_try_sys1_failed <span style=color:#d19a66>8</span>
</span></span><span style=display:flex><span>fw_setenv flag_try_sys2_failed <span style=color:#d19a66>8</span>
</span></span><span style=display:flex><span>fw_setenv mtdparts <span style=color:#63c381>&#34;nmbm0:1024k(bl2),256k(Nvram),256k(Bdata),2048k(factory),2048k(fip),256k(crash),256k(crash_log),30720k(ubi),30720k(ubi1),51200k(overlay)&#34;</span>
</span></span></code></pre></div><h3 id=刷入升级固件>刷入升级固件</h3><ul><li>下载 OpenWrt 升级固件</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ef8383>cd</span> /tmp <span style=color:#c7bf54>&amp;&amp;</span> wget https://downloads.openwrt.org/releases/24.10.0/targets/mediatek/filogic/openwrt-24.10.0-mediatek-filogic-xiaomi_redmi-router-ax6000-stock-squashfs-sysupgrade.bin
</span></span></code></pre></div><ul><li>刷入升级固件</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sysupgrade -n /tmp/openwrt-24.10.0-mediatek-filogic-xiaomi_redmi-router-ax6000-stock-squashfs-sysupgrade.bin
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>verifying sysupgrade tar file integrity
</span></span><span style=display:flex><span>Sun Apr <span style=color:#d19a66>20</span> 07:51:18 UTC <span style=color:#d19a66>2025</span> upgrade: Commencing upgrade. Closing all shell sessions.
</span></span></code></pre></div><p>完成后会自动重启，访问 192.168.1.1 即可进入 OpenWrt</p><h2 id=配置-wifi-启用-160mhz-频段>配置 WiFi 启用 160Mhz 频段</h2><p>默认启用的 WiFi 是 80Mhz，如果要启用 160Mhz 频段，需要将模式改为 AX，信道改为 64，国家改为 US，即可启用，其他配置会启用失败</p><h2 id=参考文档>参考文档</h2><ul><li><a href=https://www.acwifi.net/19676.html>红米AX6000拆机，最便宜的四核2.0GHz</a></li><li><a href=https://openwrt.org/toh/xiaomi/redmi_ax6000>Xiaomi Redmi AX6000</a></li><li><a href=https://github.com/lemoeo/AX6S>Redmi AX6S 解锁 SSH、刷入 OpenWRT 教程</a></li></ul></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script><div id=comments><script src=https://utteranc.es/client.js repo=helloworlde/helloworlde.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></div></div></main><footer class=footer><span>&copy; 2025 hellowood.dev</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/gokarna-theme/gokarna-hugo>Gokarna</a></span></footer></body></html>