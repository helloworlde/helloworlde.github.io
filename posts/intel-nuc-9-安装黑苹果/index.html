<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Intel NUC 9 安装黑苹果</title>
<meta name=description content="
为什么要用黑苹果

手里有两台 MacBook Pro，分别是 18年的 i9 16G版本和20年的 i7 16G版本，升级到 Ventura 版本后响应变慢，同时公司的监控和通讯软件占用了大量内存，出现了严重的卡顿，切换应用等待三四秒之后才能操作；因为 MBP 无法升级内存，并且新款的 Mac 性价比并不高，因此， …"><meta name=keywords content='blog,hugo,Hackintosh,NUC,MacOS'><meta property="og:url" content="https://blog.hellowood.dev/posts/intel-nuc-9-%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/"><meta property="og:type" content="website"><meta property="og:title" content="Intel NUC 9 安装黑苹果"><meta property="og:description" content="
为什么要用黑苹果

手里有两台 MacBook Pro，分别是 18年的 i9 16G版本和20年的 i7 16G版本，升级到 Ventura 版本后响应变慢，同时公司的监控和通讯软件占用了大量内存，出现了严重的卡顿，切换应用等待三四秒之后才能操作；因为 MBP 无法升级内存，并且新款的 Mac 性价比并不高，因此， …"><meta property="og:image" content="https://blog.hellowood.dev/images/avatar.webp"><meta property="og:image:secure_url" content="https://blog.hellowood.dev/images/avatar.webp"><link rel=canonical href=https://blog.hellowood.dev/posts/intel-nuc-9-%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.9a920d7dabdbad8363b6a0a94e29a9dfebdb7ee64cfcb193a0145e512ef2bdab.js integrity="sha256-mpINfavbrYNjtqCpTimp3+vbfuZM/LGToBReUS7yvas="></script><script defer src=https://umami.hellowood.dev/script.js data-website-id=7a9034de-0ce7-4756-942a-829e6cd22301></script><script defer src=https://cloud.umami.is/script.js data-website-id=73ff1c8c-9938-43cf-81af-e77e26b0cca3></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "b2e481d136dc428c8c96c8673e2a04cf"}'></script><meta name=google-adsense-account content="ca-pub-3401351766168985"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3401351766168985" crossorigin=anonymous></script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","jtbhx98g62")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MSGPYTHPZ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3MSGPYTHPZ")</script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://blog.hellowood.dev/><img src=/images/avatar.webp alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://blog.hellowood.dev/>HelloWood</a></div><div class=nav-links><div class=nav-link><a href=https://blog.hellowood.dev/><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://blog.hellowood.dev/posts/><span data-feather=book></span> Posts</a></div><div class=nav-link><a href=https://blog.hellowood.dev/tags/><span data-feather=tag></span> Tags</a></div><div class=nav-link><a href=https://github.com/helloworlde><span data-feather=github></span></a></div><div class=nav-link><a href=https://umami.hellowood.dev/share/lab/Blog><span data-feather=pie-chart></span></a></div><div class=nav-link><a href=https://blog.hellowood.dev/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target"></span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.hellowood.dev/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://blog.hellowood.dev/posts/><span data-feather=book></span> Posts</a></li><li class=nav-item><a href=https://blog.hellowood.dev/tags/><span data-feather=tag></span> Tags</a></li><li class=nav-item><a href=https://github.com/helloworlde><span data-feather=github></span></a></li><li class=nav-item><a href=https://umami.hellowood.dev/share/lab/Blog><span data-feather=pie-chart></span></a></li><li class=nav-item><a href=https://blog.hellowood.dev/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Intel NUC 9 安装黑苹果</h1><small role=doc-subtitle></small><p class=post-date>2022-12-12</p><ul class=post-tags><li class=post-tag><a href=https://blog.hellowood.dev/tags/hackintosh>Hackintosh</a></li><li class=post-tag><a href=https://blog.hellowood.dev/tags/nuc>NUC</a></li><li class=post-tag><a href=https://blog.hellowood.dev/tags/macos>MacOS</a></li></ul></div><div class=post-content><ul><li>为什么要用黑苹果</li></ul><p>手里有两台 MacBook Pro，分别是 18年的 i9 16G版本和20年的 i7 16G版本，升级到 Ventura 版本后响应变慢，同时公司的监控和通讯软件占用了大量内存，出现了严重的卡顿，切换应用等待三四秒之后才能操作；因为 MBP 无法升级内存，并且新款的 Mac 性价比并不高，因此，想通过黑苹果组建一台可以升级内存的电脑；</p><p>黑苹果的中文教程有很多，但是不少都是引流到公众号或者QQ群，下载镜像或相关软件都需要收费；这些人利用信息差，将免费和开源的拿去收费，吃相实在难看</p><ul><li>NUC 9</li></ul><p><a href="https://www.intel.cn/content/www/cn/zh/products/sku/190107/intel-nuc-9-extreme-kit-nuc9i9qnx/specifications.html?erpm_id=12169418_ts1669688200770">NUC 9</a> 是 Intel 在 2020 年第一季度推出的 ITX 主机，代号 Ghost Canyon（幽灵峡谷），因为与同期的 MBP 配置类似，可以安装黑苹果</p><p>恰巧 NUC 9 最近降价了，i5版本的价格在 2k 左右，i9版本4k左右；单独购买 i9 的计算卡大概2k，因此购买 i5版本，然后自己更换 i9版本的算力卡性价比更高；兼容的软硬件参考 <a href="https://compatibleproducts.intel.com/ProductDetails?EPMID=190107&amp;erpm_id=12169418_ts1669688262169">兼容硬件列表</a></p><p>黑苹果兼容的显卡并不多，主要以 AMD 为主，参考<a href=https://www.zp0719.com/hackintoshgpu>黑苹果免驱显卡大全2022年9月最新版 更新至RX 6900 XT</a>；并且 NUC9 只支持长度不超过 20cm 的显卡，因此，能够选购的显卡非常有限（如憾讯的 6600/6600XT 竞技版，华擎的 6600/6600XT 单风扇版等）</p><ul><li>黑苹果安装流程</li></ul><p>黑苹果的安装过程大致分为四步，首先刻录 macOS 移动磁盘，然后将机型适用的 EFI 写入到移动磁盘，修改 BIOS 设置，接着启动安装macOS，安装完成后将 EFI 写入到系统即可；这里基于 macOS 进行安装，NUC 9 是 i5版本，没有安装独立显卡</p><h2 id=将-macos-刻录到移动磁盘>将 macOS 刻录到移动磁盘</h2><h3 id=1-格式化并分区移动磁盘>1. 格式化并分区移动磁盘</h3><p>首先将移动硬盘连接到电脑，打开磁盘工具；点击显示，选择显示所有设备；</p><p><img src=https://img.hellowood.dev/picture/homelab-nuc-hackintosh-show-all-disk.png alt=homelab-nuc-hackintosh-show-all-disk.png></p><p>然后选择移动磁盘这个设备，选择抹掉，名称可以是任意名称，如 macOS，后续会在刻录镜像的时候用到；格式选择 &ldquo;Mac OS 扩展（日志式）"；方案选择 GUID 分区图；这样就会将移动磁盘分为两个分区，一个是 EFI分区，另一个是系统镜像分区
<img src=https://img.hellowood.dev/picture/homelab-nuc-hackintosh-format-disk.png alt=homelab-nuc-hackintosh-format-disk.png></p><h3 id=2-下载-macos>2. 下载 macOS</h3><p>建议使用 Big Sur 或者 Monterey 版本，Venture 版本的蓝牙和无线无法使用</p><p>首先需要在 App Store 下载对应版本的系统安装器，在 App Store 只能搜索到当前或更新版本的安装器，如果想使用旧版本，可以通过 Google 或<a href="https://www.apple.com/us/search/macOS?src=serp">在线的 App Store</a> 搜索对应版本并跳转到 App Store 进行下载；如 <a href="https://apps.apple.com/us/app/macos-monterey/id1576738294?mt=12">macOS Monterey</a></p><p><img src=https://img.hellowood.dev/picture/homelab-macos-iso-search-in-app-store.png alt=homelab-macos-iso-search-in-app-store.png></p><p><img src=https://img.hellowood.dev/picture/homelab-macos-iso-download-from-app-store.png alt=homelab-macos-iso-download-from-app-store.png></p><p>随后会跳转到软件更新中自动下载，下载完成后在应用里可以看到 &ldquo;安装 macOS Monterey&rdquo;</p><p><img src=https://img.hellowood.dev/picture/homelab-macos-iso-downloading.png alt=homelab-macos-iso-downloading.png></p><h3 id=3-将-macos-刻录到移动磁盘>3. 将 macOS 刻录到移动磁盘</h3><p>下载完 macOS 安装器后，即可通过安装器将镜像刻录到移动磁盘；在命令行执行以下命令，Volume 即为刚才分区时命名的分区名称</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo /Applications/Install<span style=color:#d26464;font-weight:700>\ </span>macOS<span style=color:#d26464;font-weight:700>\ </span>Monterey.app/Contents/Resources/createinstallmedia --volume /Volumes/macOS
</span></span></code></pre></div><p>等待执行完成即可</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Password:
</span></span><span style=display:flex><span>Ready to start.
</span></span><span style=display:flex><span>To <span style=color:#c678dd>continue</span> we need to erase the volume at /Volumes/macOS.
</span></span><span style=display:flex><span>If you wish to <span style=color:#c678dd>continue</span> <span style=color:#ef8383>type</span> <span style=color:#c7bf54>(</span>Y<span style=color:#c7bf54>)</span> <span style=color:#c678dd>then</span> press <span style=color:#c678dd>return</span>: y
</span></span><span style=display:flex><span>Erasing disk: 0%... 10%... 20%... 30%... 100%
</span></span><span style=display:flex><span>Making disk bootable...
</span></span><span style=display:flex><span>Copying to disk: 0%... 10%... 20%... 30%... 40%... 50%... 60%... 70%... 80%... 90%... 100%
</span></span><span style=display:flex><span>Install media now available at <span style=color:#63c381>&#34;/Volumes/Install macOS Monterey&#34;</span>
</span></span></code></pre></div><h2 id=将-nuc9-的-efi-添加到移动硬盘>将 NUC9 的 EFI 添加到移动硬盘</h2><p>使用到的 EFI 是基于 <a href=https://dortania.github.io/OpenCore-Install-Guide/>OpenCore</a> 创建的，OpenCore 是一个开源的引导加载程序；用于引导启动 macOS 并提供所需的驱动及配置文件</p><h3 id=1-挂载-efi>1. 挂载 EFI</h3><p>可以基于 OpenCore 的配置文件，自行配置 EFI 的相关驱动和配置，但是会比较复杂，这里使用开源的已经配置好的 EFI，如 <a href=https://github.com/liu976336402/NUC9-hackintosh/releases>liu976336402/NUC9-hackintosh</a>，从 GitHub 下载 Release 中对应显卡的压缩文件到本地（可以选择 UHD630 或者 6600XT）；或着使用关键字 &ldquo;NUC9 hackintosh EFI&rdquo; 进行搜索；</p><p>如果想自己从头开始制作，可以参考 OpenCore 官方文档的 <a href=https://dortania.github.io/OpenCore-Install-Guide/installer-guide/opencore-efi.html>Adding The Base OpenCore Files</a> 及之后的 <a href=https://dortania.github.io/OpenCore-Install-Guide/ktext.html>Gathering files</a>，<a href=https://dortania.github.io/Getting-Started-With-ACPI/>Getting started with ACPI</a>，<a href=https://dortania.github.io/OpenCore-Install-Guide/config.plist/>config.plist Setup</a> 部分；或者参考中文文档 <a href=https://apple.sqlsec.com/3-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/3-1/>国光的黑苹果安装教程：手把手教你配置 OpenCore</a></p><p>macOS 默认不会挂载 EFI分区，所以需要先将 EFI 分区挂载到系统</p><ul><li>查找分区</li></ul><p>首先使用 <code>diskutil</code> 查找移动磁盘 EFI的分区</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>diskutil list
</span></span></code></pre></div><p>发现 <code>external</code> 的磁盘是 <code>/dev/disk2</code>，其 EFI 分区的 <code>IDENTIFIER</code> 是 <code>disk2s1</code></p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/dev/disk0 <span style=color:#c7bf54>(</span>internal, physical<span style=color:#c7bf54>)</span>:
</span></span><span style=display:flex><span>   <span style=color:#8a93a5;font-style:italic>#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
</span></span><span style=display:flex><span>   0:      GUID_partition_scheme                        *500.3 GB   disk0
</span></span><span style=display:flex><span>   1:                        EFI EFI                     314.6 MB   disk0s1
</span></span><span style=display:flex><span>   2:                 Apple_APFS Container disk1         500.0 GB   disk0s2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>/dev/disk1 <span style=color:#c7bf54>(</span>synthesized<span style=color:#c7bf54>)</span>:
</span></span><span style=display:flex><span>   <span style=color:#8a93a5;font-style:italic>#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
</span></span><span style=display:flex><span>   0:      APFS Container Scheme -                      +500.0 GB   disk1
</span></span><span style=display:flex><span>                                 Physical Store disk0s2
</span></span><span style=display:flex><span>   1:                APFS Volume Macintosh HD            8.8 GB     disk1s1
</span></span><span style=display:flex><span>   2:              APFS Snapshot com.apple.os.update-... 8.8 GB     disk1s1s1
</span></span><span style=display:flex><span>   3:                APFS Volume Preboot                 1.8 GB     disk1s2
</span></span><span style=display:flex><span>   4:                APFS Volume Recovery                1.1 GB     disk1s3
</span></span><span style=display:flex><span>   5:                APFS Volume VM                      2.1 GB     disk1s4
</span></span><span style=display:flex><span>   6:                APFS Volume Macintosh HD - 数据     456.5 GB   disk1s5
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>/dev/disk2 <span style=color:#c7bf54>(</span>external, physical<span style=color:#c7bf54>)</span>:
</span></span><span style=display:flex><span>   <span style=color:#8a93a5;font-style:italic>#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
</span></span><span style=display:flex><span>   0:      GUID_partition_scheme                        *64.0 GB    disk2
</span></span><span style=display:flex><span>   1:                        EFI EFI                     209.7 MB   disk2s1
</span></span><span style=display:flex><span>   2:                  Apple_HFS Install macOS Monterey  63.7 GB    disk2s2
</span></span></code></pre></div><ul><li>挂载 EFI</li></ul><p>创建一个 Volume 分区并将 EFI 挂载到这个分区</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir /Volumes/efi
</span></span><span style=display:flex><span>sudo mount -t msdos /dev/disk2s1 /Volumes/efi
</span></span></code></pre></div><p>挂载成功后打开 Finder，可以看到已经挂载的 EFI 分区</p><p><img src=https://img.hellowood.dev/picture/homelab-nuc-hackintosh-mount-efi.png alt=homelab-nuc-hackintosh-mount-efi.png></p><h3 id=2-添加-efi>2. 添加 EFI</h3><p>将下载的 EFI 文件夹添加到 EFI 分区中（注意是整个 EFI 文件夹添加到 EFI 分区）</p><p><img src=https://img.hellowood.dev/picture/homelab-nuc-hackintosh-move-efi-to-efi.png alt=homelab-nuc-hackintosh-move-efi-to-efi.png></p><p>至此，磁盘镜像的准备工作已经完成</p><h2 id=配置-bios>配置 BIOS</h2><p>在启动出现骷髅头的时候，按下 F2进入到 BIOS，建议先按 F9恢复为默认，然后再修改；</p><p>需要修改以下几项：</p><ul><li>Advanced-STORAGE-SATA Mode Selection: AHCI</li><li>Boot-Secure Boot：Disabled</li><li>Boot-Boot Priority-Fast Boot: 取消勾选</li><li>Boot-Boot Priority-Boot USB Devices First: 勾选</li><li>Boot-Boot Priority-USB: 勾选</li></ul><p>配置完后按 F10 保存并退出，重启后即可开始安装；如果有其他系统或者启动项，建议全部禁用，仅保留移动磁盘，避免后续重启时自动选择错误</p><h2 id=安装-macos>安装 macOS</h2><p>启动后，会看到可选的启动项，选择 &ldquo;Install macOS Monterey&rdquo;；</p><p>进入后，先选择磁盘工具，修改磁盘配置，可以将磁盘分区或者整个磁盘作为 macOS 的系统盘（建议使用整个磁盘，安装前不要有其他的系统存在），然后格式化磁盘为 AFPS格式，完成后退出磁盘工具；选择安装 Monterey；</p><p>注意，磁盘工具无法找到未分区的部分，如果有安装 Windows，建议先使用 Windows 将未分区的部分设置为简单卷；然后在磁盘工具中先格式化为 ExFat 格式，然后再格式化为 AFPS 格式</p><p>接下来安装系统指引一步步安装即可，安装过程中可能会有多次重启；等待大约半小时即可安装完成</p><p><img src=https://img.hellowood.dev/picture/homelab-nuc-hackintosh-monterey-info.png alt=homelab-nuc-hackintosh-monterey-info.png></p><h2 id=配置-efi-启动项>配置 EFI 启动项</h2><p>安装完成后，安装 <a href=https://macdownload.informer.com/opencore-configurator/>OpenCore Configurator</a> 软件，选择 Tools - Mount EFI
<img src=https://img.hellowood.dev/picture/homelab-nuc-hackintosh-mount-efi-by-configurator.png alt=homelab-nuc-hackintosh-mount-efi-by-configurator.png></p><p>将移动磁盘和 macOS 系统的 EFI 分区都挂载到电脑</p><p><img src=https://img.hellowood.dev/picture/homelab-nuc-hackintosh-mount-efi-partition.png alt=homelab-nuc-hackintosh-mount-efi-partition.png></p><p>然后将移动磁盘中的 EFI 分区复制到 macOS 系统的 EFI 即可</p><p><img src=https://img.hellowood.dev/picture/homelab-nuc-hackintosh-move-partition-files.png alt=homelab-nuc-hackintosh-move-partition-files.png></p><h2 id=使用体验>使用体验</h2><p>安装 Monterey 版本后，基本功能都正常，Wi-Fi/蓝牙/Type C/USB/网卡/通用控制等都可以正常使用；但是 CPU 没有正确识别；只使用核显画面不流畅，安装不支持的华硕 6500XT 显卡后可以使用，但是变得非常卡顿（应该是驱动问题导致），更换为 6600 后表现正常；AirDrop 能够发现其他的设备，但是无法传输文件</p><p>安装了 Ventura 后，Wi-Fi/蓝牙无法使用</p><h2 id=参考文档>参考文档</h2><ul><li><a href=https://dortania.github.io/OpenCore-Install-Guide/>OpenCore-Install-Guide</a></li><li><a href=https://github.com/benbaker76/Hackintool>Hackintool</a></li><li><a href=https://github.com/bemble/Hackintosh-NUC9I7QNX-OpenCore>bemble/Hackintosh-NUC9I7QNX-OpenCore</a></li><li><a href=https://github.com/liu976336402/NUC9-hackintosh>liu976336402/NUC9-hackintosh</a></li><li><a href=https://github.com/corpnewt/ProperTree>corpnewt/ProperTree</a></li><li><a href=https://github.com/corpnewt/MountEFI>corpnewt/MountEFI</a></li><li><a href=https://apple.sqlsec.com/>国光的黑苹果安装教程：手把手教你配置 OpenCore</a></li><li><a href=https://zhuanlan.zhihu.com/p/526991674>intel NUC9 完美黑苹果Big Sur 11.2保姆级教程</a></li></ul></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script><div id=comments><script src=https://utteranc.es/client.js repo=helloworlde/helloworlde.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></div></div></main><footer class=footer><span>&copy; 2024 hellowood.dev</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>