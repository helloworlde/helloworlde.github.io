<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Ubuntu22 安装初始化 Hailo 8系列 TPU 加速器</title>
<meta name=description content="
Hailo 是一家位于以色列的边缘人工智能处理器的先驱芯片制造商，该公司成立于2017年；专注于为边缘设备开发高效的深度学习处理器。Hailo 的核心产品是其自研的 Hailo-8 人工智能处理器，这款芯片特别设计用于在资源受限的边缘设备上运行复杂的深度学习模型


Hailo-8 能够在嵌入式系统中支持实时处理应 …"><meta name=keywords content='blog,hugo,Ubuntu,Hailo,TPU'><meta property="og:url" content="https://blog.hellowood.dev/posts/ubuntu22-%E5%AE%89%E8%A3%85%E5%88%9D%E5%A7%8B%E5%8C%96-hailo-8%E7%B3%BB%E5%88%97-tpu-%E5%8A%A0%E9%80%9F%E5%99%A8/"><meta property="og:type" content="website"><meta property="og:title" content="Ubuntu22 安装初始化 Hailo 8系列 TPU 加速器"><meta property="og:description" content="
Hailo 是一家位于以色列的边缘人工智能处理器的先驱芯片制造商，该公司成立于2017年；专注于为边缘设备开发高效的深度学习处理器。Hailo 的核心产品是其自研的 Hailo-8 人工智能处理器，这款芯片特别设计用于在资源受限的边缘设备上运行复杂的深度学习模型


Hailo-8 能够在嵌入式系统中支持实时处理应 …"><meta property="og:image" content="https://blog.hellowood.dev/images/avatar.webp"><meta property="og:image:secure_url" content="https://blog.hellowood.dev/images/avatar.webp"><link rel=canonical href=https://blog.hellowood.dev/posts/ubuntu22-%E5%AE%89%E8%A3%85%E5%88%9D%E5%A7%8B%E5%8C%96-hailo-8%E7%B3%BB%E5%88%97-tpu-%E5%8A%A0%E9%80%9F%E5%99%A8/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.9a920d7dabdbad8363b6a0a94e29a9dfebdb7ee64cfcb193a0145e512ef2bdab.js integrity="sha256-mpINfavbrYNjtqCpTimp3+vbfuZM/LGToBReUS7yvas="></script><script defer src=https://umami.hellowood.dev/script.js data-website-id=7a9034de-0ce7-4756-942a-829e6cd22301></script><script defer src=https://cloud.umami.is/script.js data-website-id=73ff1c8c-9938-43cf-81af-e77e26b0cca3></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "b2e481d136dc428c8c96c8673e2a04cf"}'></script><meta name=google-adsense-account content="ca-pub-3401351766168985"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3401351766168985" crossorigin=anonymous></script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","jtbhx98g62")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MSGPYTHPZ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3MSGPYTHPZ")</script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://blog.hellowood.dev/><img src=/images/avatar.webp alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://blog.hellowood.dev/>HelloWood</a></div><div class=nav-links><div class=nav-link><a href=https://blog.hellowood.dev/><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://blog.hellowood.dev/posts/><span data-feather=book></span> Posts</a></div><div class=nav-link><a href=https://blog.hellowood.dev/tags/><span data-feather=tag></span> Tags</a></div><div class=nav-link><a href=https://github.com/helloworlde><span data-feather=github></span></a></div><div class=nav-link><a href=https://umami.hellowood.dev/share/lab/Blog><span data-feather=pie-chart></span></a></div><div class=nav-link><a href=https://blog.hellowood.dev/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target"></span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.hellowood.dev/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://blog.hellowood.dev/posts/><span data-feather=book></span> Posts</a></li><li class=nav-item><a href=https://blog.hellowood.dev/tags/><span data-feather=tag></span> Tags</a></li><li class=nav-item><a href=https://github.com/helloworlde><span data-feather=github></span></a></li><li class=nav-item><a href=https://umami.hellowood.dev/share/lab/Blog><span data-feather=pie-chart></span></a></li><li class=nav-item><a href=https://blog.hellowood.dev/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Ubuntu22 安装初始化 Hailo 8系列 TPU 加速器</h1><small role=doc-subtitle></small><p class=post-date>2024-09-09</p><ul class=post-tags><li class=post-tag><a href=https://blog.hellowood.dev/tags/ubuntu>Ubuntu</a></li><li class=post-tag><a href=https://blog.hellowood.dev/tags/hailo>Hailo</a></li><li class=post-tag><a href=https://blog.hellowood.dev/tags/tpu>TPU</a></li></ul></div><div class=post-content><blockquote><p>Hailo 是一家位于以色列的边缘人工智能处理器的先驱芯片制造商，该公司成立于2017年；专注于为边缘设备开发高效的深度学习处理器。Hailo 的核心产品是其自研的 Hailo-8 人工智能处理器，这款芯片特别设计用于在资源受限的边缘设备上运行复杂的深度学习模型</p></blockquote><blockquote><p>Hailo-8 能够在嵌入式系统中支持实时处理应用，如计算机视觉、自动驾驶、智能城市监控、医疗设备和工业物联网等</p></blockquote><blockquote><p>Hailo 在 2024年6月4日宣布被 Raspberry Pi 选中，为 Raspberry Pi AI Kit 提供 AI 加速器；支持使用 Hailo-8 和 Hailo-8L 进行加速，参考 <a href=https://hailo.ai/zh-hans/company-overview/newsroom/news-zh-hans/raspberry-pi-selects-hailo-to-enable-advanced-ai-capabilities-for-raspberry-pi-5/>Raspberry Pi Selects Hailo to Enable Advanced AI Capabilities for Raspberry Pi 5</a></p></blockquote><p>Hailo8 发布于 2021年，算力为 26 TOPS，Hailo8L 发布于 2023 年，算力为 13 TOPS；两款产品除了算力外，其他特性差别不大，均支持 TensorFlow，TensorFlow Lite，Keras，PyTorch & ONNX 框架，主机架构支持 X86 和 ARM，操作系统支持 Linux 和 Windows；更多信息参考官网介绍：</p><ul><li><a href=https://hailo.ai/zh-hans/products/ai-accelerators/hailo-8-ai-accelerator/#hailo-8-features>Hailo-8 AI处理器</a></li><li><a href=https://hailo.ai/zh-hans/products/ai-accelerators/hailo-8l-m-2-ai-acceleration-module-for-ai-light-applications/#hailo8lm2-features>Hailo-8L M.2 Entry-Level Acceleration Module</a></li><li><a href=https://hailo.ai/files/hailo-8-product-brief-en/>hailo-8-product-brief</a></li><li><a href=https://hailo.ai/files/hailo-8l-m-2-et-product-brief-en/>hailo-8l-m-2-et-product-brief</a></li></ul><p><img src=https://hailo.ai/wp-content/uploads/2023/09/Hailo-8L%E2%84%A2_Entry-Level_M.2_AI_Acceleration_Module_Overview.webp alt=Hailo8L></p><h1 id=hailo-环境配置>Hailo 环境配置</h1><p>Hailo 相关软件功能如图：</p><p><img src=https://hailo.ai/wp-content/uploads/2023/09/HailoRT-Diagram.png alt></p><h2 id=驱动>驱动</h2><h3 id=安装驱动>安装驱动</h3><ul><li>安装依赖</li></ul><p>安装驱动依赖一些软件，需要提前安装</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt update <span style=color:#c7bf54>&amp;&amp;</span> sudo apt install dkms linux-headers-<span style=color:#c678dd>$(</span>uname -r<span style=color:#c678dd>)</span>
</span></span></code></pre></div><ul><li>下载驱动</li></ul><p>Hailo 的软件下载比较麻烦，需要注册其 <a href=https://hailo.ai/developer-zone/software-downloads/>Developer Zone</a> 账号之后才能下载</p><p>软件选择 HailoRT，然后选择对应的平台和版本，选择 &lsquo;HailoRT – PCIe driver Ubuntu package (deb)&rsquo; 进行下载，下载完成后即可开始安装</p><p><img src=https://img.hellowood.dev/picture/homelab-tpu-hailo-software-download-page.png alt=homelab-tpu-hailo-software-download-page.png></p><ul><li>安装 Pcie 驱动</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo dpkg --install hailort-pcie-driver_4.18.0_all.deb
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>正在选中未选择的软件包 hailort-pcie-driver。
</span></span><span style=display:flex><span><span style=color:#c7bf54>(</span>正在读取数据库 ... 系统当前共安装有 <span style=color:#d19a66>187606</span> 个文件和目录。<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>准备解压 hailort-pcie-driver_4.18.0_all.deb  ...
</span></span><span style=display:flex><span>Verifying secureboot is disabled.
</span></span><span style=display:flex><span>正在解压 hailort-pcie-driver <span style=color:#c7bf54>(</span>4.18.0<span style=color:#c7bf54>)</span> ...
</span></span><span style=display:flex><span>正在设置 hailort-pcie-driver <span style=color:#c7bf54>(</span>4.18.0<span style=color:#c7bf54>)</span> ...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>WARNING: apt does not have a stable CLI interface. Use with caution in scripts.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>build-essential/mantic,now 12.10ubuntu1 amd64 <span style=color:#c7bf54>[</span>已安装，自动<span style=color:#c7bf54>]</span>
</span></span><span style=display:flex><span>Do you wish to use DKMS? <span style=color:#c7bf54>[</span>Y/n<span style=color:#c7bf54>]</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Please reboot your computer <span style=color:#c678dd>for</span> the installation to take effect.
</span></span></code></pre></div><p>安装完成后需要重启设备</p><h3 id=检查设备和驱动>检查设备和驱动</h3><ul><li>检查 PCIE 设备</li></ul><p>使用 lspci 检查设备是否识别</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lspci | grep Hailo
</span></span></code></pre></div><p>返回 Hailo 设备信息，说明识别正常</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>04:00.0 Co-processor: Hailo Technologies Ltd. Hailo-8 AI Processor <span style=color:#c7bf54>(</span>rev 01<span style=color:#c7bf54>)</span>
</span></span></code></pre></div><ul><li>检查驱动</li></ul><p>检查驱动是否正常加载</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lsmod | grep hailo_pci
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hailo_pci              <span style=color:#d19a66>90112</span>  <span style=color:#d19a66>0</span>
</span></span></code></pre></div><ul><li>检查驱动加载日志</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dmesg | grep hailo
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.014969<span style=color:#c7bf54>]</span> hailo_pci: loading out-of-tree module taints kernel.
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.015023<span style=color:#c7bf54>]</span> hailo_pci: module verification failed: signature and/or required key missing - tainting kernel
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.016534<span style=color:#c7bf54>]</span> hailo: Init module. driver version 4.18.0
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017366<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing on: 1e60:2864...
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017369<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: Allocate memory <span style=color:#c678dd>for</span> device extension, <span style=color:#d19a66>11632</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017390<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: enabling device <span style=color:#c7bf54>(</span><span style=color:#d19a66>0000</span> -&gt; 0002<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017917<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: Device enabled
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017944<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: mapped bar <span style=color:#d19a66>0</span> - 0000000021c328c7 <span style=color:#d19a66>16384</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017950<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: mapped bar <span style=color:#d19a66>2</span> - 0000000073c01cdb <span style=color:#d19a66>4096</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017956<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: mapped bar <span style=color:#d19a66>4</span> - 00000000b456be2c <span style=color:#d19a66>16384</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017964<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: Setting max_desc_page_size to 4096, <span style=color:#c7bf54>(</span><span style=color:#dcaeea>page_size</span><span style=color:#c7bf54>=</span>4096<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017995<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: Enabled <span style=color:#d19a66>64</span> bit dma
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.017997<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: Using specialized <span style=color:#dcaeea>dma_ops</span><span style=color:#c7bf54>=</span>iommu_dma_ops
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.018000<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: Using userspace allocated vdma buffers
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.018008<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Disabling ASPM L0s
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.018011<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Successfully disabled ASPM L0s
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.170741<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Firmware was loaded successfully
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>   67.188598<span style=color:#c7bf54>]</span> hailo 0000:04:00.0: Probing: Added board 1e60-2864, /dev/hailo0
</span></span></code></pre></div><p>以上信息说明设备和驱动正常识别和加载</p><h2 id=安装-hailort>安装 HailoRT</h2><p>HialoRT 是 Hailo 的运行时库 (Runtime Library)，基于 C/C++ API，用于控制和与 Hailo 设备之间的数据传输</p><h3 id=安装-hailort-1>安装 HailoRT</h3><ul><li>下载 HailoRT</li></ul><p>和下载驱动一样，从 <a href=https://hailo.ai/developer-zone/software-downloads/>Developer Zone</a> 下载 &lsquo;HailoRT – Ubuntu package (deb) for amd64&rsquo;</p><p><img src=https://img.hellowood.dev/picture/homelab-tpu-hailo-software-download-page.png alt=homelab-tpu-hailo-software-download-page.png></p><ul><li>安装 HailoRT</li></ul><p>通过 dpkg 安装 HailoRT</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo dpkg --install hailort_4.18.0_amd64.deb
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>正在选中未选择的软件包 hailort。
</span></span><span style=display:flex><span><span style=color:#c7bf54>(</span>正在读取数据库 ... 系统当前共安装有 <span style=color:#d19a66>187563</span> 个文件和目录。<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>准备解压 hailort_4.18.0_amd64.deb  ...
</span></span><span style=display:flex><span>正在解压 hailort <span style=color:#c7bf54>(</span>4.18.0<span style=color:#c7bf54>)</span> ...
</span></span><span style=display:flex><span>正在设置 hailort <span style=color:#c7bf54>(</span>4.18.0<span style=color:#c7bf54>)</span> ...
</span></span><span style=display:flex><span>Do you wish to activate hailort service? <span style=color:#c7bf54>(</span>required <span style=color:#c678dd>for</span> most pyHailoRT use cases<span style=color:#c7bf54>)</span> <span style=color:#c7bf54>[</span>y/N<span style=color:#c7bf54>]</span>:
</span></span><span style=display:flex><span>Starting hailort.service
</span></span><span style=display:flex><span>Created symlink /etc/systemd/system/multi-user.target.wants/hailort.service → /lib/systemd/system/hailort.service.
</span></span></code></pre></div><h3 id=检查-hailort>检查 HailoRT</h3><ul><li>hailort 命令行工具</li></ul><p>安装完成后，会在系统中安装 <a href="https://hailo.ai/developer-zone/documentation/hailort-v4-18-0/?sp_referrer=cli%2Fcli.html">hailortcli tool</a> 命令行应用，用于控制Hailo设备、在设备上运行推理以及收集推理统计数据和设备事件</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hailortcli --help
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>HailoRT CLI
</span></span><span style=display:flex><span>Usage: hailortcli <span style=color:#c7bf54>[</span>OPTIONS<span style=color:#c7bf54>]</span> SUBCOMMAND
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Options:
</span></span><span style=display:flex><span>  -h,--help                   Print this <span style=color:#ef8383>help</span> message and <span style=color:#ef8383>exit</span>
</span></span><span style=display:flex><span>  -v,--version                Display program version information and <span style=color:#ef8383>exit</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Subcommands:
</span></span><span style=display:flex><span>  run                         Run a compiled network
</span></span><span style=display:flex><span>  run2                        Run networks
</span></span><span style=display:flex><span>  scan                        Shows all available devices
</span></span><span style=display:flex><span>  benchmark                   Measure basic performance on compiled network
</span></span><span style=display:flex><span>  measure-power               Measures power consumption
</span></span><span style=display:flex><span>  sensor-config               Config sensor attached to the Hailo chip
</span></span><span style=display:flex><span>  fw-config                   User firmware configuration tool
</span></span><span style=display:flex><span>  fw-logger                   Download fw logs to a file
</span></span><span style=display:flex><span>  fw-update                   Firmware update tool <span style=color:#c7bf54>(</span>only <span style=color:#c678dd>for</span> flash based devices<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  ssb-update                  Second stage boot update <span style=color:#ef8383>command</span> <span style=color:#c7bf54>(</span>only <span style=color:#c678dd>for</span> flash based devices<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  monitor                     Monitor of networks - Presents information about the running networks. To <span style=color:#ef8383>enable</span> monitor, <span style=color:#ef8383>set</span> in the application process the environment variable <span style=color:#98c379>&#39;HAILO_MONITOR&#39;</span> to 1.
</span></span><span style=display:flex><span>  udp-rate-limiter            Limit the UDP rate
</span></span><span style=display:flex><span>  parse-hef                   Parse HEF to get information about its components
</span></span><span style=display:flex><span>  fw-control                  Useful firmware control operations
</span></span></code></pre></div><ul><li>扫描设备</li></ul><p>使用 scan 命令查找当前支持的设备</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hailortcli scan
</span></span></code></pre></div><p>会返回设备的接口信息</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Hailo Devices:
</span></span><span style=display:flex><span><span style=color:#c7bf54>[</span>-<span style=color:#c7bf54>]</span> Device: 0000:04:00.0
</span></span></code></pre></div><ul><li>获取设备信息</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hailortcli fw-control identify
</span></span></code></pre></div><p>会返回设备的类型、名称等信息</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Executing on device: 0000:04:00.0
</span></span><span style=display:flex><span>Identifying board
</span></span><span style=display:flex><span>Control Protocol Version: <span style=color:#d19a66>2</span>
</span></span><span style=display:flex><span>Firmware Version: 4.18.0 <span style=color:#c7bf54>(</span>release,app,extended context switch buffer<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>Logger Version: <span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>Board Name: Hailo-8
</span></span><span style=display:flex><span>Device Architecture: HAILO8L
</span></span><span style=display:flex><span>Serial Number: HLDDLBB242602137
</span></span><span style=display:flex><span>Part Number: HM21LB1C2LAE
</span></span><span style=display:flex><span>Product Name: HAILO-8L AI ACC M.2 B+M KEY MODULE EXT TMP
</span></span></code></pre></div><h2 id=安装-python-运行时环境>安装 python 运行时环境</h2><p>hailort 是用于向 Hailo-8/8L 设备加载模型以及发送和接收数据的 Python API</p><h3 id=安装>安装</h3><ul><li>下载 Wheel 文件</li></ul><p>同样在 <a href=https://hailo.ai/developer-zone/software-downloads/>Developer Zone</a> 下载名为 &lsquo;HailoRT – Python package (whl) for Python 3.10, x86_64&rsquo; 的 Wheel 文件</p><p><img src=https://img.hellowood.dev/picture/homelab-tpu-hailo-software-download-page.png alt=homelab-tpu-hailo-software-download-page.png></p><ul><li>创建虚拟环境</li></ul><p>为了不影响其他服务，使用 anaconda 创建独立的虚拟环境并激活（anaconda 的安装请参考 <a href=https://docs.anaconda.com/anaconda/install/>Installation</a>）</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda create -n hailo <span style=color:#dcaeea>python</span><span style=color:#c7bf54>=</span>3.10
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda activate hailo
</span></span></code></pre></div><ul><li>安装 hailort</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install ./hailort-4.18.0-cp310-cp310-linux_x86_64.whl
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
</span></span><span style=display:flex><span>Processing ./hailort-4.18.0-cp310-cp310-linux_x86_64.whl
</span></span><span style=display:flex><span>Requirement already satisfied: argcomplete in /root/anaconda3/envs/hailo/lib/python3.10/site-packages <span style=color:#c7bf54>(</span>from <span style=color:#dcaeea>hailort</span><span style=color:#c7bf54>==</span>4.18.0<span style=color:#c7bf54>)</span> <span style=color:#c7bf54>(</span>3.5.0<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>Collecting contextlib2 <span style=color:#c7bf54>(</span>from <span style=color:#dcaeea>hailort</span><span style=color:#c7bf54>==</span>4.18.0<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/76/56/6d6872f79d14c0cb02f1646cbb4592eef935857c0951a105874b7b62a0c3/contextlib2-21.6.0-py2.py3-none-any.whl <span style=color:#c7bf54>(</span><span style=color:#d19a66>13</span> kB<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>Collecting future <span style=color:#c7bf54>(</span>from <span style=color:#dcaeea>hailort</span><span style=color:#c7bf54>==</span>4.18.0<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/da/71/ae30dadffc90b9006d77af76b393cb9dfbfc9629f339fc1574a1c52e6806/future-1.0.0-py3-none-any.whl <span style=color:#c7bf54>(</span><span style=color:#d19a66>491</span> kB<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>Collecting netaddr <span style=color:#c7bf54>(</span>from <span style=color:#dcaeea>hailort</span><span style=color:#c7bf54>==</span>4.18.0<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/12/cc/f4fe2c7ce68b92cbf5b2d379ca366e1edae38cccaad00f69f529b460c3ef/netaddr-1.3.0-py3-none-any.whl <span style=color:#c7bf54>(</span>2.3 MB<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.3/2.3 MB 21.3 MB/s eta 0:00:00
</span></span><span style=display:flex><span>Collecting netifaces <span style=color:#c7bf54>(</span>from <span style=color:#dcaeea>hailort</span><span style=color:#c7bf54>==</span>4.18.0<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/a6/91/86a6eac449ddfae239e93ffc1918cf33fd9bab35c04d1e963b311e347a73/netifaces-0.11.0.tar.gz <span style=color:#c7bf54>(</span><span style=color:#d19a66>30</span> kB<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  Preparing metadata <span style=color:#c7bf54>(</span>setup.py<span style=color:#c7bf54>)</span> ... <span style=color:#c678dd>done</span>
</span></span><span style=display:flex><span>Collecting <span style=color:#dcaeea>numpy</span><span style=color:#c7bf54>==</span>1.23.3 <span style=color:#c7bf54>(</span>from <span style=color:#dcaeea>hailort</span><span style=color:#c7bf54>==</span>4.18.0<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/c7/31/0298a8f62a8c82b8c542f78f3761e67cb8bf0450b3e61bbe66c5c54c1a81/numpy-1.23.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl <span style=color:#c7bf54>(</span>17.1 MB<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.1/17.1 MB 68.6 MB/s eta 0:00:00
</span></span><span style=display:flex><span>Collecting verboselogs <span style=color:#c7bf54>(</span>from <span style=color:#dcaeea>hailort</span><span style=color:#c7bf54>==</span>4.18.0<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/b8/9d/c5c3cb0093642042fd604b53928ac65e7650fdc5a8a97814288e29beab84/verboselogs-1.7-py2.py3-none-any.whl <span style=color:#c7bf54>(</span><span style=color:#d19a66>11</span> kB<span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>Building wheels <span style=color:#c678dd>for</span> collected packages: netifaces
</span></span><span style=display:flex><span>  Building wheel <span style=color:#c678dd>for</span> netifaces <span style=color:#c7bf54>(</span>setup.py<span style=color:#c7bf54>)</span> ... <span style=color:#c678dd>done</span>
</span></span><span style=display:flex><span>  Created wheel <span style=color:#c678dd>for</span> netifaces: <span style=color:#dcaeea>filename</span><span style=color:#c7bf54>=</span>netifaces-0.11.0-cp310-cp310-linux_x86_64.whl <span style=color:#dcaeea>size</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>14503</span> <span style=color:#dcaeea>sha256</span><span style=color:#c7bf54>=</span>ecf67c60820415fd4ce4c22881dc5f4cf4028a72fb174c0a6eaef541161b91e0
</span></span><span style=display:flex><span>  Stored in directory: /root/.cache/pip/wheels/4d/17/5b/ee74d1589e153ace1f92c660912b8fbadf855ee73acafbb038
</span></span><span style=display:flex><span>Successfully built netifaces
</span></span><span style=display:flex><span>Installing collected packages: verboselogs, netifaces, numpy, netaddr, future, contextlib2, hailort
</span></span><span style=display:flex><span>Successfully installed contextlib2-21.6.0 future-1.0.0 hailort-4.18.0 netaddr-1.3.0 netifaces-0.11.0 numpy-1.23.3 verboselogs-1.7
</span></span></code></pre></div><h3 id=检查-python-运行时环境>检查 python 运行时环境</h3><p>在命令行启动 python 运行代码进行检查</p><ul><li>获取设备信息</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#c678dd>from</span> <span style=color:#76a9f9>hailo_platform</span> <span style=color:#c678dd>import</span> <span style=color:#c1abea>Device</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c1abea>dev</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>Device</span>()
</span></span><span style=display:flex><span><span style=color:#c1abea>info</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>dev</span><span style=color:#c7bf54>.</span><span style=color:#c1abea>control</span><span style=color:#c7bf54>.</span><span style=color:#c1abea>get_extended_device_information</span>()
</span></span><span style=display:flex><span><span style=color:#ef8383>print</span>(<span style=color:#c1abea>info</span>)
</span></span></code></pre></div><p>会返回设备的信息</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Neural Network Core Clock Rate: 400.0MHz
</span></span><span style=display:flex><span>Device supported features:
</span></span><span style=display:flex><span>Ethernet: Disabled
</span></span><span style=display:flex><span>MIPI: Disabled
</span></span><span style=display:flex><span>PCIE: Enabled
</span></span><span style=display:flex><span>Current Monitoring: Disabled
</span></span><span style=display:flex><span>MDIO: Disabled
</span></span><span style=display:flex><span>Boot source: PCIE
</span></span><span style=display:flex><span>LCS: <span style=color:#d19a66>3</span>
</span></span><span style=display:flex><span>SoC ID: ba9246dda6cf3517451947603e2c891fa8cdf372b4afdd45cf7c44d1e765068b
</span></span><span style=display:flex><span>ULT ID: 0060c1c336506950fb7ac071
</span></span><span style=display:flex><span>PM Values: 022e010000028c010000020d020000c389f741291cf54101
</span></span></code></pre></div><ul><li>获取设备温度</li></ul><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#c678dd>from</span> <span style=color:#76a9f9>hailo_platform</span> <span style=color:#c678dd>import</span> <span style=color:#c1abea>Device</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c1abea>dev</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>Device</span>()
</span></span><span style=display:flex><span><span style=color:#c1abea>temperature</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>dev</span><span style=color:#c7bf54>.</span><span style=color:#c1abea>control</span><span style=color:#c7bf54>.</span><span style=color:#c1abea>get_chip_temperature</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ef8383>print</span>(<span style=color:#98c379>&#39;sample_count: &#39;</span> <span style=color:#c7bf54>+</span> <span style=color:#ef8383>str</span>(<span style=color:#c1abea>temperature</span><span style=color:#c7bf54>.</span><span style=color:#c1abea>sample_count</span>))
</span></span><span style=display:flex><span><span style=color:#ef8383>print</span>(<span style=color:#98c379>&#39;ts0_temperature: &#39;</span> <span style=color:#c7bf54>+</span> <span style=color:#ef8383>str</span>(<span style=color:#c1abea>temperature</span><span style=color:#c7bf54>.</span><span style=color:#c1abea>ts0_temperature</span>))
</span></span><span style=display:flex><span><span style=color:#ef8383>print</span>(<span style=color:#98c379>&#39;ts1_temperature: &#39;</span> <span style=color:#c7bf54>+</span> <span style=color:#ef8383>str</span>(<span style=color:#c1abea>temperature</span><span style=color:#c7bf54>.</span><span style=color:#c1abea>ts1_temperature</span>))
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sample_count: <span style=color:#d19a66>52028</span>
</span></span><span style=display:flex><span>ts0_temperature: 41.21126937866211
</span></span><span style=display:flex><span>ts1_temperature: 41.0089225769043
</span></span></code></pre></div><h2 id=参考文档>参考文档</h2><ul><li><a href=https://hailo.ai/zh-hans/products/hailo-software/hailo-ai-software-suite/#sw-hailort>Hailo人工智能软件套件</a></li><li><a href=https://hailo.ai/zh-hans/products/ai-accelerators/hailo-8l-ai-accelerator-for-ai-light-applications/#hailo8l-features>Hailo-8L 入门级AI加速器</a></li><li><a href=https://hailo.ai/zh-hans/products/ai-accelerators/hailo-8-ai-accelerator/>Hailo-8 AI处理器</a></li><li><a href=https://hailo.ai/developer-zone/software-downloads/>Developer Zone</a></li><li><a href="https://hailo.ai/developer-zone/documentation/hailort-v4-18-0/?sp_referrer=install/install.html">Installation</a></li><li><a href=https://ubuntu.com/blog/hackers-guide-to-the-raspberry-pi-ai-kit-on-ubuntu>Hacker’s guide to the Raspberry Pi AI kit on Ubuntu</a></li><li><a href=https://tlab.hongo.wide.ad.jp/2024/03/04/hailo-8-edge-ai-accelerator-deployment-guide/>Hailo-8 Edge AI Accelerator Deployment Guide</a></li><li><a href=https://hailo.ai/zh-hans/products/ai-accelerators/hailo-8-m2-ai-acceleration-module/#hailo8-m2-features>Hailo-8 M.2 AI加速模块</a></li><li><a href=https://up-board.org/hailo-8/>https://up-board.org/hailo-8/</a></li><li><a href=https://github.com/up-board/up-community/wiki/Hailo>Hailo</a></li></ul></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script><div id=comments><script src=https://utteranc.es/client.js repo=helloworlde/helloworlde.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></div></div></main><footer class=footer><span>&copy; 2024 hellowood.dev</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>