<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>使用腾讯云的Serverless部署天气应用</title>
<meta charset=utf-8><meta name=description content='Ladder@使用腾讯云的Serverless部署应用 使用腾讯云的Serverless服务，部署一个Go编写的天气变化的提醒应用 该应用通过定时查询高德地图的天气API，当当前天气或未来几天天气不好时，通过Server酱在微信中进行提醒
构建应用 应用使用 go modules开发
go.mod module weather go 1.12 require github.com/tencentyun/scf-go-lib v0.0.0-20190817080819-4a2819cda320 main.go package main import ( "log" "os" "strconv" "time" "fmt" "github.com/tencentyun/scf-go-lib/cloudfunction" "weather/tool" ) func main() { cloudfunction.Start(checkWeather) } func checkWeather() (string, error) { // ... } 创建函数 在腾讯云的Serverless服务中创建新的函数
添加配置 配置共三项：
高德地图的SecretKey，可以在高德地图的控制面板中添加应用后获取 Server酱的SecretKey，在发送的URL中可以找到 城市id，高德地图的城市id，可以在城市编码中找到 添加环境变量 在函数配置点击编辑，添加环境变量
city xxxx weatherKey xxxx notifyKey xxxx 上传函数 本地编译打包 Mac/Linux GOOS=linux GOARCH=amd64 go build -o main main.go zip main.zip main Win set GOOS=linux set GOARCH=amd64 go build -o main main.'><meta name=author content="HelloWood"><link rel=canonical href=https://blog.hellowood.dev/posts/%E4%BD%BF%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E7%9A%84serverless%E9%83%A8%E7%BD%B2%E5%A4%A9%E6%B0%94%E5%BA%94%E7%94%A8/><meta name=google-site-verification content="G-3MSGPYTHPZ"><link rel=alternate type=application/rss+xml href=https://blog.hellowood.dev//index.xml title=HelloWood><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MSGPYTHPZ"></script><script>var doNotTrack=!1,dnt;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3MSGPYTHPZ")}</script><script async defer data-website-id=7a9034de-0ce7-4756-942a-829e6cd22301 src=https://umami.hellowood.dev/script.js></script><script defer data-cf-beacon='{"token": "b2e481d136dc428c8c96c8673e2a04cf"}' src=https://static.cloudflareinsights.com/beacon.min.js></script><meta property="og:url" content="https://blog.hellowood.dev/posts/%E4%BD%BF%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E7%9A%84serverless%E9%83%A8%E7%BD%B2%E5%A4%A9%E6%B0%94%E5%BA%94%E7%94%A8/"><meta property="og:site_name" content="HelloWood"><meta property="og:title" content="使用腾讯云的Serverless部署天气应用"><meta property="og:description" content="使用腾讯云的Serverless部署应用 使用腾讯云的Serverless服务，部署一个Go编写的天气变化的提醒应用 该应用通过定时查询高德地图的天气API，当当前天气或未来几天天气不好时，通过Server酱在微信中进行提醒
构建应用 应用使用 go modules开发
go.mod module weather go 1.12 require github.com/tencentyun/scf-go-lib v0.0.0-20190817080819-4a2819cda320 main.go package main import ( &amp;#34;log&amp;#34; &amp;#34;os&amp;#34; &amp;#34;strconv&amp;#34; &amp;#34;time&amp;#34; &amp;#34;fmt&amp;#34; &amp;#34;github.com/tencentyun/scf-go-lib/cloudfunction&amp;#34; &amp;#34;weather/tool&amp;#34; ) func main() { cloudfunction.Start(checkWeather) } func checkWeather() (string, error) { // ... } 创建函数 在腾讯云的Serverless服务中创建新的函数
添加配置 配置共三项：
高德地图的SecretKey，可以在高德地图的控制面板中添加应用后获取 Server酱的SecretKey，在发送的URL中可以找到 城市id，高德地图的城市id，可以在城市编码中找到 添加环境变量 在函数配置点击编辑，添加环境变量
city xxxx weatherKey xxxx notifyKey xxxx 上传函数 本地编译打包 Mac/Linux GOOS=linux GOARCH=amd64 go build -o main main.go zip main.zip main Win set GOOS=linux set GOARCH=amd64 go build -o main main."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-10-13T18:56:40+00:00"><meta property="article:modified_time" content="2019-10-13T18:56:40+00:00"><meta property="article:tag" content="Serverless"><meta property="article:tag" content="Go"><meta name=twitter:card content="summary"><meta name=twitter:title content="使用腾讯云的Serverless部署天气应用"><meta name=twitter:description content='使用腾讯云的Serverless部署应用 使用腾讯云的Serverless服务，部署一个Go编写的天气变化的提醒应用 该应用通过定时查询高德地图的天气API，当当前天气或未来几天天气不好时，通过Server酱在微信中进行提醒
构建应用 应用使用 go modules开发
go.mod module weather go 1.12 require github.com/tencentyun/scf-go-lib v0.0.0-20190817080819-4a2819cda320 main.go package main import ( "log" "os" "strconv" "time" "fmt" "github.com/tencentyun/scf-go-lib/cloudfunction" "weather/tool" ) func main() { cloudfunction.Start(checkWeather) } func checkWeather() (string, error) { // ... } 创建函数 在腾讯云的Serverless服务中创建新的函数
添加配置 配置共三项：
高德地图的SecretKey，可以在高德地图的控制面板中添加应用后获取 Server酱的SecretKey，在发送的URL中可以找到 城市id，高德地图的城市id，可以在城市编码中找到 添加环境变量 在函数配置点击编辑，添加环境变量
city xxxx weatherKey xxxx notifyKey xxxx 上传函数 本地编译打包 Mac/Linux GOOS=linux GOARCH=amd64 go build -o main main.go zip main.zip main Win set GOOS=linux set GOARCH=amd64 go build -o main main.'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.hellowood.dev/posts/"},{"@type":"ListItem","position":2,"name":"使用腾讯云的Serverless部署天气应用","item":"https://blog.hellowood.dev/posts/%E4%BD%BF%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E7%9A%84serverless%E9%83%A8%E7%BD%B2%E5%A4%A9%E6%B0%94%E5%BA%94%E7%94%A8/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用腾讯云的Serverless部署天气应用","name":"使用腾讯云的Serverless部署天气应用","description":"使用腾讯云的Serverless部署应用 使用腾讯云的Serverless服务，部署一个Go编写的天气变化的提醒应用 该应用通过定时查询高德地图的天气API，当当前天气或未来几天天气不好时，通过Server酱在微信中进行提醒\n构建应用 应用使用 go modules开发\ngo.mod module weather go 1.12 require github.com/tencentyun/scf-go-lib v0.0.0-20190817080819-4a2819cda320 main.go package main import ( \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;time\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/tencentyun/scf-go-lib/cloudfunction\u0026#34; \u0026#34;weather/tool\u0026#34; ) func main() { cloudfunction.Start(checkWeather) } func checkWeather() (string, error) { // ... } 创建函数 在腾讯云的Serverless服务中创建新的函数\n添加配置 配置共三项：\n高德地图的SecretKey，可以在高德地图的控制面板中添加应用后获取 Server酱的SecretKey，在发送的URL中可以找到 城市id，高德地图的城市id，可以在城市编码中找到 添加环境变量 在函数配置点击编辑，添加环境变量\ncity xxxx weatherKey xxxx notifyKey xxxx 上传函数 本地编译打包 Mac/Linux GOOS=linux GOARCH=amd64 go build -o main main.go zip main.zip main Win set GOOS=linux set GOARCH=amd64 go build -o main main.","keywords":["Serverless","Go"],"articleBody":"使用腾讯云的Serverless部署应用 使用腾讯云的Serverless服务，部署一个Go编写的天气变化的提醒应用 该应用通过定时查询高德地图的天气API，当当前天气或未来几天天气不好时，通过Server酱在微信中进行提醒\n构建应用 应用使用 go modules开发\ngo.mod module weather go 1.12 require github.com/tencentyun/scf-go-lib v0.0.0-20190817080819-4a2819cda320 main.go package main import ( \"log\" \"os\" \"strconv\" \"time\" \"fmt\" \"github.com/tencentyun/scf-go-lib/cloudfunction\" \"weather/tool\" ) func main() { cloudfunction.Start(checkWeather) } func checkWeather() (string, error) { // ... } 创建函数 在腾讯云的Serverless服务中创建新的函数\n添加配置 配置共三项：\n高德地图的SecretKey，可以在高德地图的控制面板中添加应用后获取 Server酱的SecretKey，在发送的URL中可以找到 城市id，高德地图的城市id，可以在城市编码中找到 添加环境变量 在函数配置点击编辑，添加环境变量\ncity xxxx weatherKey xxxx notifyKey xxxx 上传函数 本地编译打包 Mac/Linux GOOS=linux GOARCH=amd64 go build -o main main.go zip main.zip main Win set GOOS=linux set GOARCH=amd64 go build -o main main.go 然后将main添加到压缩文件中\n上传zip 在函数代码中上传压缩文件，保存\n测试 待上传完成后，选择 HelloWorld测试模板，点击测试，等函数执行，会看到测试结果\n添加触发方式 在触发方式中添加定时触发，cron表达式为 0 30 8-21 * * * *，这样就可以在每天8点-21点的30分触发查询，如果天气状况不佳，会通过微信通知\n参考文档 开发语言 Golang 天气查询 项目地址 https://github.com/helloworlde/weather ","wordCount":"100","inLanguage":"en","datePublished":"2019-10-13T18:56:40Z","dateModified":"2019-10-13T18:56:40Z","author":{"@type":"Person","name":"HelloWood"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.hellowood.dev/posts/%E4%BD%BF%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E7%9A%84serverless%E9%83%A8%E7%BD%B2%E5%A4%A9%E6%B0%94%E5%BA%94%E7%94%A8/"},"publisher":{"@type":"Organization","name":"HelloWood","logo":{"@type":"ImageObject","url":"https://blog.hellowood.dev/favicon.ico"}}}</script><link rel=icon href=/images/avatar.png sizes=16x16><link rel=apple-touch-icon href=/images/avatar.png><link rel=manifest href=/images/avatar.png><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.ff1bc260fafbfb440e10194d7d06d57eb5e85eed11d12d06255581262664204e.css integrity="sha256-/xvCYPr7+0QOEBlNfQbVfrXoXu0R0S0GJVWBJiZkIE4=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><meta name=google-adsense-account content="ca-pub-3401351766168985"><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","jtbhx98g62")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3401351766168985" crossorigin=anonymous></script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand data-umami-event=navigation-brand href=/>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Blog href=/posts>Blog</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Tags href=/tags>Tags</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Archive href=/archives>Archive</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Dashboard href=https://umami.hellowood.dev/share/lab/Blog>Dashboard</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link data-umami-event=navigation-social href=https://github.com/helloworlde><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button data-umami-event=toggle-theme aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>使用腾讯云的Serverless部署天气应用</h1></header><p><small>October 13, 2019&nbsp;· 100 words&nbsp;· One minute</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#构建应用>构建应用</a></li><li><a href=#创建函数>创建函数</a></li><li><a href=#添加配置>添加配置</a><ul><li><a href=#添加环境变量>添加环境变量</a></li></ul></li><li><a href=#上传函数>上传函数</a><ul><li><a href=#本地编译打包>本地编译打包</a></li><li><a href=#上传zip>上传zip</a></li><li><a href=#测试>测试</a></li><li><a href=#添加触发方式>添加触发方式</a></li><li><a href=#参考文档>参考文档</a></li><li><a href=#项目地址>项目地址</a></li></ul></li></ul></nav></div><section class=blog-content><h1 id=使用腾讯云的serverless部署应用>使用腾讯云的Serverless部署应用</h1><blockquote><p>使用腾讯云的Serverless服务，部署一个Go编写的天气变化的提醒应用
该应用通过定时查询高德地图的<a href=https://lbs.amap.com/api/webservice/guide/api/weatherinfo>天气API</a>，当当前天气或未来几天天气不好时，通过<a href=http://sc.ftqq.com>Server酱</a>在微信中进行提醒</p></blockquote><h2 id=构建应用>构建应用</h2><p>应用使用 go modules开发</p><ul><li>go.mod</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>module</span> <span style=color:#a6e22e>weather</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#ae81ff>1.12</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>require</span> <span style=color:#a6e22e>github</span>.<span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>tencentyun</span><span style=color:#f92672>/</span><span style=color:#a6e22e>scf</span><span style=color:#f92672>-</span><span style=color:#66d9ef>go</span><span style=color:#f92672>-</span><span style=color:#a6e22e>lib</span> <span style=color:#a6e22e>v0</span><span style=color:#ae81ff>.0.0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>20190817080819</span><span style=color:#f92672>-</span><span style=color:#ae81ff>4</span><span style=color:#a6e22e>a2819cda320</span>
</span></span></code></pre></div><ul><li>main.go</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;strconv&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;time&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/tencentyun/scf-go-lib/cloudfunction&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;weather/tool&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cloudfunction</span>.<span style=color:#a6e22e>Start</span>(<span style=color:#a6e22e>checkWeather</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkWeather</span>() (<span style=color:#66d9ef>string</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h2 id=创建函数>创建函数</h2><p>在腾讯云的<a href="https://console.cloud.tencent.com/scf/list?rid=8&ns=default">Serverless服务</a>中创建新的函数</p><p><img alt=创建函数 src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9oZWxsb3dvb2Rlcy5vc3MtY24tYmVpamluZy5hbGl5dW5jcy5jb20vYmxvZy9xY2xvdWQtc2VydmVybGVzcy8lRTUlODglOUIlRTUlQkIlQkElRTUlODclQkQlRTYlOTUlQjAucG5n?x-oss-process=image/format,png"></p><h2 id=添加配置>添加配置</h2><p>配置共三项：</p><ul><li>高德地图的SecretKey，可以在高德地图的<a href=https://lbs.amap.com/dev/key/app>控制面板</a>中添加应用后获取</li><li>Server酱的SecretKey，在发送的URL中可以找到</li><li>城市id，高德地图的城市id，可以在<a href=https://lbs.amap.com/api/webservice/download>城市编码</a>中找到</li></ul><h3 id=添加环境变量>添加环境变量</h3><p>在函数配置点击编辑，添加环境变量</p><pre tabindex=0><code>city       xxxx
weatherKey xxxx
notifyKey  xxxx
</code></pre><h2 id=上传函数>上传函数</h2><h3 id=本地编译打包>本地编译打包</h3><ul><li>Mac/Linux</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>GOOS<span style=color:#f92672>=</span>linux GOARCH<span style=color:#f92672>=</span>amd64 go build -o main main.go
</span></span><span style=display:flex><span>zip main.zip main
</span></span></code></pre></div><ul><li>Win</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>set GOOS<span style=color:#f92672>=</span>linux
</span></span><span style=display:flex><span>set GOARCH<span style=color:#f92672>=</span>amd64
</span></span><span style=display:flex><span>go build -o main main.go
</span></span></code></pre></div><p>然后将main添加到压缩文件中</p><h3 id=上传zip>上传zip</h3><p>在函数代码中上传压缩文件，保存</p><p><img alt=上传函数 src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9oZWxsb3dvb2Rlcy5vc3MtY24tYmVpamluZy5hbGl5dW5jcy5jb20vYmxvZy9xY2xvdWQtc2VydmVybGVzcy8lRTQlQjglOEElRTQlQkMlQTAlRTUlODclQkQlRTYlOTUlQjAucG5n?x-oss-process=image/format,png"></p><h3 id=测试>测试</h3><p>待上传完成后，选择 HelloWorld测试模板，点击测试，等函数执行，会看到测试结果</p><p><img alt=测试函数 src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9oZWxsb3dvb2Rlcy5vc3MtY24tYmVpamluZy5hbGl5dW5jcy5jb20vYmxvZy9xY2xvdWQtc2VydmVybGVzcy8lRTYlQjUlOEIlRTglQUYlOTUlRTUlODclQkQlRTYlOTUlQjAucG5n?x-oss-process=image/format,png"></p><h3 id=添加触发方式>添加触发方式</h3><p>在触发方式中添加定时触发，cron表达式为 <code>0 30 8-21 * * * *</code>，这样就可以在每天8点-21点的30分触发查询，如果天气状况不佳，会通过微信通知</p><hr><h3 id=参考文档>参考文档</h3><ul><li><a href=https://cloud.tencent.com/document/product/583/18032>开发语言 Golang</a></li><li><a href=https://lbs.amap.com/api/webservice/guide/api/weatherinfo>天气查询</a></li></ul><h3 id=项目地址>项目地址</h3><ul><li><a href=https://github.com/helloworlde/weather>https://github.com/helloworlde/weather</a></li></ul></section><div class=paginator><a class=prev href=https://blog.hellowood.dev/posts/%E4%BD%BF%E7%94%A8-github-%E4%BD%9C%E4%B8%BA-helm-%E4%BB%93%E5%BA%93/><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg>
<span>使用 GitHub 作为 Helm 仓库</span></a>
<a class=next href=https://blog.hellowood.dev/posts/go-%E8%B0%83%E7%94%A8-windows-%E7%9A%84%E7%B3%BB%E7%BB%9F-api%E6%A3%80%E6%B5%8B%E6%98%AF%E5%90%A6%E9%94%81%E5%B1%8F/><span>Go 调用 Windows 的系统 API，检测是否锁屏</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div></article></div><footer class=footer><p>&copy; 2024 <a href=https://blog.hellowood.dev/>HelloWood</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank data-umami-event=to-hugo>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank data-umami-event=to-ladder>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g data-umami-event=top-link><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>