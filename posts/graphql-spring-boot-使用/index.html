<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>GraphQL Spring Boot 使用</title>
<meta charset=utf-8><meta name=description content="Ladder@GraphQL Spring Boot 使用 项目地址 https://github.com/helloworlde/spring-boot-graphql-demo
使用 SpringBoot 和 GraphQL 创建一个最简单的增删改查接口应用，使用 MongoDB 存储数据
创建应用 添加依赖 dependencies { implementation('org.springframework.boot:spring-boot-starter-web') implementation('org.springframework.boot:spring-boot-starter-data-mongodb') compileOnly('org.projectlombok:lombok') testImplementation('org.springframework.boot:spring-boot-starter-test') } 添加基础接口 添加 Model @Data @Builder @Document @AllArgsConstructor @NoArgsConstructor public class Post { @Id private String id; private String title; private String content; @CreatedDate private Date createDate; } 添加 Repository public interface PostRepository extends MongoRepository<Post, String> { } 添加配置 # MongoDB Config spring.data.mongodb.host=localhost spring.data.mongodb.port=27017 #spring.data.mongodb.username= #spring.data.mongodb.password= spring.data.mongodb.database=graphql 添加数据初始化 @Component @Slf4j public class DataInitializer implements ApplicationRunner { @Autowired private PostRepository postRepository; @Override public void run(ApplicationArguments args) throws Exception { List<Post> posts = initPost(); posts."><meta name=author content="HelloWood"><link rel=canonical href=https://blog.hellowood.dev/posts/graphql-spring-boot-%E4%BD%BF%E7%94%A8/><meta name=google-site-verification content="G-3MSGPYTHPZ"><link rel=alternate type=application/rss+xml href=https://blog.hellowood.dev//index.xml title=HelloWood><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MSGPYTHPZ"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3MSGPYTHPZ")}</script><script async defer data-website-id=7a9034de-0ce7-4756-942a-829e6cd22301 src=https://umami.hellowood.dev/script.js></script><script defer data-cf-beacon='{"token": "b2e481d136dc428c8c96c8673e2a04cf"}' src=https://static.cloudflareinsights.com/beacon.min.js></script><meta property="og:url" content="https://blog.hellowood.dev/posts/graphql-spring-boot-%E4%BD%BF%E7%94%A8/"><meta property="og:site_name" content="HelloWood"><meta property="og:title" content="GraphQL Spring Boot 使用"><meta property="og:description" content="GraphQL Spring Boot 使用 项目地址 https://github.com/helloworlde/spring-boot-graphql-demo
使用 SpringBoot 和 GraphQL 创建一个最简单的增删改查接口应用，使用 MongoDB 存储数据
创建应用 添加依赖 dependencies { implementation('org.springframework.boot:spring-boot-starter-web') implementation('org.springframework.boot:spring-boot-starter-data-mongodb') compileOnly('org.projectlombok:lombok') testImplementation('org.springframework.boot:spring-boot-starter-test') } 添加基础接口 添加 Model @Data @Builder @Document @AllArgsConstructor @NoArgsConstructor public class Post { @Id private String id; private String title; private String content; @CreatedDate private Date createDate; } 添加 Repository public interface PostRepository extends MongoRepository<Post, String> { } 添加配置 # MongoDB Config spring.data.mongodb.host=localhost spring.data.mongodb.port=27017 #spring.data.mongodb.username= #spring.data.mongodb.password= spring.data.mongodb.database=graphql 添加数据初始化 @Component @Slf4j public class DataInitializer implements ApplicationRunner { @Autowired private PostRepository postRepository; @Override public void run(ApplicationArguments args) throws Exception { List<Post> posts = initPost(); posts."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-01-29T19:57:12+00:00"><meta property="article:modified_time" content="2019-01-29T19:57:12+00:00"><meta property="article:tag" content="SpringBoot"><meta property="article:tag" content="GraphQL"><meta name=twitter:card content="summary"><meta name=twitter:title content="GraphQL Spring Boot 使用"><meta name=twitter:description content="GraphQL Spring Boot 使用 项目地址 https://github.com/helloworlde/spring-boot-graphql-demo
使用 SpringBoot 和 GraphQL 创建一个最简单的增删改查接口应用，使用 MongoDB 存储数据
创建应用 添加依赖 dependencies { implementation('org.springframework.boot:spring-boot-starter-web') implementation('org.springframework.boot:spring-boot-starter-data-mongodb') compileOnly('org.projectlombok:lombok') testImplementation('org.springframework.boot:spring-boot-starter-test') } 添加基础接口 添加 Model @Data @Builder @Document @AllArgsConstructor @NoArgsConstructor public class Post { @Id private String id; private String title; private String content; @CreatedDate private Date createDate; } 添加 Repository public interface PostRepository extends MongoRepository<Post, String> { } 添加配置 # MongoDB Config spring.data.mongodb.host=localhost spring.data.mongodb.port=27017 #spring.data.mongodb.username= #spring.data.mongodb.password= spring.data.mongodb.database=graphql 添加数据初始化 @Component @Slf4j public class DataInitializer implements ApplicationRunner { @Autowired private PostRepository postRepository; @Override public void run(ApplicationArguments args) throws Exception { List<Post> posts = initPost(); posts."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.hellowood.dev/posts/"},{"@type":"ListItem","position":2,"name":"GraphQL Spring Boot 使用","item":"https://blog.hellowood.dev/posts/graphql-spring-boot-%E4%BD%BF%E7%94%A8/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"GraphQL Spring Boot 使用","name":"GraphQL Spring Boot 使用","description":"GraphQL Spring Boot 使用 项目地址 https://github.com/helloworlde/spring-boot-graphql-demo\n使用 SpringBoot 和 GraphQL 创建一个最简单的增删改查接口应用，使用 MongoDB 存储数据\n创建应用 添加依赖 dependencies { implementation(\u0026#39;org.springframework.boot:spring-boot-starter-web\u0026#39;) implementation(\u0026#39;org.springframework.boot:spring-boot-starter-data-mongodb\u0026#39;) compileOnly(\u0026#39;org.projectlombok:lombok\u0026#39;) testImplementation(\u0026#39;org.springframework.boot:spring-boot-starter-test\u0026#39;) } 添加基础接口 添加 Model @Data @Builder @Document @AllArgsConstructor @NoArgsConstructor public class Post { @Id private String id; private String title; private String content; @CreatedDate private Date createDate; } 添加 Repository public interface PostRepository extends MongoRepository\u0026lt;Post, String\u0026gt; { } 添加配置 # MongoDB Config spring.data.mongodb.host=localhost spring.data.mongodb.port=27017 #spring.data.mongodb.username= #spring.data.mongodb.password= spring.data.mongodb.database=graphql 添加数据初始化 @Component @Slf4j public class DataInitializer implements ApplicationRunner { @Autowired private PostRepository postRepository; @Override public void run(ApplicationArguments args) throws Exception { List\u0026lt;Post\u0026gt; posts = initPost(); posts.","keywords":["SpringBoot","GraphQL"],"articleBody":"GraphQL Spring Boot 使用 项目地址 https://github.com/helloworlde/spring-boot-graphql-demo\n使用 SpringBoot 和 GraphQL 创建一个最简单的增删改查接口应用，使用 MongoDB 存储数据\n创建应用 添加依赖 dependencies { implementation('org.springframework.boot:spring-boot-starter-web') implementation('org.springframework.boot:spring-boot-starter-data-mongodb') compileOnly('org.projectlombok:lombok') testImplementation('org.springframework.boot:spring-boot-starter-test') } 添加基础接口 添加 Model @Data @Builder @Document @AllArgsConstructor @NoArgsConstructor public class Post { @Id private String id; private String title; private String content; @CreatedDate private Date createDate; } 添加 Repository public interface PostRepository extends MongoRepository\u003cPost, String\u003e { } 添加配置 # MongoDB Config spring.data.mongodb.host=localhost spring.data.mongodb.port=27017 #spring.data.mongodb.username= #spring.data.mongodb.password= spring.data.mongodb.database=graphql 添加数据初始化 @Component @Slf4j public class DataInitializer implements ApplicationRunner { @Autowired private PostRepository postRepository; @Override public void run(ApplicationArguments args) throws Exception { List\u003cPost\u003e posts = initPost(); posts.forEach(post -\u003e log.info(\"Post: {}\", post)); } private List\u003cPost\u003e initPost() { postRepository.deleteAll(); return Stream.of(\"Post one\", \"Post two\") .map(title -\u003e { Post post = Post.builder() .title(title) .content(\"Content of \" + title) .build(); return postRepository.save(post); }) .collect(Collectors.toList()); } } 添加 GraphQL 配置 添加 GraphQL 依赖 implementation('com.graphql-java:graphql-spring-boot-starter:5.0.2') // 提供 UI implementation('com.graphql-java:graphiql-spring-boot-starter:5.0.2') // 用于 Resolver implementation('com.graphql-java:graphql-java-tools:5.2.4') 添加接口定义脚本 # io.github.helloworlde.graphql.model.Post 对应的Model type Post { id: ID, title: String, content: String, createDate: String } # io.github.helloworlde.graphql.resolver.PostMutation.updatePost 的入参 post input PostInput{ title: String!, content: String! } # 查询 io.github.helloworlde.graphql.resolver.PostQuery type Query{ posts: [Post] post(id: ID!): Post } # 修改 io.github.helloworlde.graphql.resolver.PostMutation type Mutation{ createPost(post: PostInput): Post! updatePost(id: ID!, post: PostInput): Post! deletePost(id: ID!): String } 添加接口 Resolver 查询 Resolver @Component public class PostQuery implements GraphQLQueryResolver { @Autowired private PostRepository postRepository; public List\u003cPost\u003e posts() { return postRepository.findAll(); } public Optional\u003cPost\u003e post(String id) { return postRepository.findById(id); } } 修改 Resolver @Component public class PostMutation implements GraphQLMutationResolver { @Autowired private PostRepository postRepository; public Post createPost(Post post) { Post newPost = Post.builder() .title(post.getTitle()) .content(post.getContent()) .build(); return postRepository.save(newPost); } public Post updatePost(String id, Post post) throws Exception { Post currentPost = postRepository.findById(id) .orElseThrow(() -\u003e new IllegalArgumentException(\"Post \" + id + \" Not Exist\")); currentPost.setTitle(post.getTitle()); currentPost.setContent(post.getContent()); return postRepository.save(currentPost); } public String deletePost(String id) throws Exception { postRepository.findById(id) .orElseThrow(() -\u003e new IllegalArgumentException(\"Post \" + id + \" Not Exist\")); postRepository.deleteById(id); return id; } } 测试 启动应用\n访问 http://localhost:8080/graphiql\n查询 查询列表 { posts { id title content createDate } } { \"data\": { \"posts\": [ { \"id\": \"5c50245b7ed65eacb3372aba\", \"title\": \"Post one\", \"content\": \"Content of Post one\", \"createDate\": \"Tue Jan 29 18:00:59 CST 2019\" }, { \"id\": \"5c50245b7ed65eacb3372abb\", \"title\": \"Post two\", \"content\": \"Content of Post two\", \"createDate\": \"Tue Jan 29 18:00:59 CST 2019\" } ] } } 查询指定 id { post(id: \"5c50245b7ed65eacb3372aba\") { id title content createDate } } { \"data\": { \"post\": { \"id\": \"5c50245b7ed65eacb3372aba\", \"title\": \"Post one\", \"content\": \"Content of Post one\", \"createDate\": \"Tue Jan 29 18:00:59 CST 2019\" } } } 修改 新增 mutation { createPost(post: {title: \"New Posts\", content: \"New Post Content\"}) { id title content createDate } } { \"data\": { \"createPost\": { \"id\": \"5c5027197ed65eaf47a0854d\", \"title\": \"New Posts\", \"content\": \"New Post Content\", \"createDate\": \"Tue Jan 29 18:12:41 CST 2019\" } } } 修改 mutation { updatePost(id: \"5c5027197ed65eaf47a0854d\", post: {title: \"Update Posts\", content: \"Update Post Content\"}) { id title content createDate } } { \"data\": { \"updatePost\": { \"id\": \"5c5027197ed65eaf47a0854d\", \"title\": \"Update Posts\", \"content\": \"Update Post Content\", \"createDate\": \"Tue Jan 29 18:12:41 CST 2019\" } } } 删除 mutation { deletePost(id: \"5c5027197ed65eaf47a0854d\") } { \"data\": { \"deletePost\": \"5c5027197ed65eaf47a0854d\" } } 参考文章 GraphQL Spring Boot + GraphQL + MongoDB graphql-spring-boot learn-graphql graphql-mongodb-server ","wordCount":"520","inLanguage":"en","datePublished":"2019-01-29T19:57:12Z","dateModified":"2019-01-29T19:57:12Z","author":{"@type":"Person","name":"HelloWood"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.hellowood.dev/posts/graphql-spring-boot-%E4%BD%BF%E7%94%A8/"},"publisher":{"@type":"Organization","name":"HelloWood","logo":{"@type":"ImageObject","url":"https://blog.hellowood.dev/favicon.ico"}}}</script><link rel=icon href=/images/avatar.png sizes=16x16><link rel=apple-touch-icon href=/images/avatar.png><link rel=manifest href=/images/avatar.png><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.ff1bc260fafbfb440e10194d7d06d57eb5e85eed11d12d06255581262664204e.css integrity="sha256-/xvCYPr7+0QOEBlNfQbVfrXoXu0R0S0GJVWBJiZkIE4=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><meta name=google-adsense-account content="ca-pub-3401351766168985"><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","jtbhx98g62")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3401351766168985" crossorigin=anonymous></script><script defer src=https://analytics.us.umami.is/script.js data-website-id=73ff1c8c-9938-43cf-81af-e77e26b0cca3></script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand data-umami-event=navigation-brand href=/>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Blog href=/posts>Blog</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Tags href=/tags>Tags</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Archive href=/archives>Archive</a></li><li class="navigation-item navigation-menu"><a class=navigation-link data-umami-event=Dashboard href=https://umami.hellowood.dev/share/lab/Blog>Dashboard</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link data-umami-event=navigation-social href=https://github.com/helloworlde><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button data-umami-event=toggle-theme aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>GraphQL Spring Boot 使用</h1></header><p><small>January 29, 2019&nbsp;· 520 words&nbsp;· 3 min</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#创建应用>创建应用</a><ul><li><a href=#添加基础接口>添加基础接口</a></li><li><a href=#添加-graphql-配置>添加 GraphQL 配置</a></li></ul></li><li><a href=#测试>测试</a><ul><li></li><li><a href=#参考文章>参考文章</a></li></ul></li></ul></nav></div><section class=blog-content><h1 id=graphql-spring-boot-使用>GraphQL Spring Boot 使用</h1><p>项目地址 <a href=https://github.com/helloworlde/spring-boot-graphql-demo>https://github.com/helloworlde/spring-boot-graphql-demo</a></p><blockquote><p>使用 SpringBoot 和 GraphQL 创建一个最简单的增删改查接口应用，使用 MongoDB 存储数据</p></blockquote><h2 id=创建应用>创建应用</h2><ul><li>添加依赖</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=display:flex><span>dependencies <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    implementation<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;org.springframework.boot:spring-boot-starter-web&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    implementation<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    compileOnly<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;org.projectlombok:lombok&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    testImplementation<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;org.springframework.boot:spring-boot-starter-test&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h3 id=添加基础接口>添加基础接口</h3><ul><li>添加 Model</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@Data</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Builder</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Document</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@AllArgsConstructor</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@NoArgsConstructor</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Post</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Id</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String id;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String title;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String content;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@CreatedDate</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Date createDate;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>添加 Repository</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>PostRepository</span> <span style=color:#66d9ef>extends</span> MongoRepository<span style=color:#f92672>&lt;</span>Post, String<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>添加配置</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#75715e># MongoDB Config</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.data.mongodb.host</span><span style=color:#f92672>=</span><span style=color:#e6db74>localhost</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.data.mongodb.port</span><span style=color:#f92672>=</span><span style=color:#e6db74>27017</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#spring.data.mongodb.username=</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#spring.data.mongodb.password=</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>spring.data.mongodb.database</span><span style=color:#f92672>=</span><span style=color:#e6db74>graphql</span>
</span></span></code></pre></div><ul><li>添加数据初始化</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@Component</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Slf4j</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DataInitializer</span> <span style=color:#66d9ef>implements</span> ApplicationRunner {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Autowired</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> PostRepository postRepository;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>run</span>(ApplicationArguments args) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        List<span style=color:#f92672>&lt;</span>Post<span style=color:#f92672>&gt;</span> posts <span style=color:#f92672>=</span> initPost();
</span></span><span style=display:flex><span>        posts.<span style=color:#a6e22e>forEach</span>(post <span style=color:#f92672>-&gt;</span> log.<span style=color:#a6e22e>info</span>(<span style=color:#e6db74>&#34;Post: {}&#34;</span>, post));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> List<span style=color:#f92672>&lt;</span>Post<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>initPost</span>() {
</span></span><span style=display:flex><span>        postRepository.<span style=color:#a6e22e>deleteAll</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> Stream.<span style=color:#a6e22e>of</span>(<span style=color:#e6db74>&#34;Post one&#34;</span>, <span style=color:#e6db74>&#34;Post two&#34;</span>)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>map</span>(title <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>                    Post post <span style=color:#f92672>=</span> Post.<span style=color:#a6e22e>builder</span>()
</span></span><span style=display:flex><span>                            .<span style=color:#a6e22e>title</span>(title)
</span></span><span style=display:flex><span>                            .<span style=color:#a6e22e>content</span>(<span style=color:#e6db74>&#34;Content of &#34;</span> <span style=color:#f92672>+</span> title)
</span></span><span style=display:flex><span>                            .<span style=color:#a6e22e>build</span>();
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> postRepository.<span style=color:#a6e22e>save</span>(post);
</span></span><span style=display:flex><span>                })
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>collect</span>(Collectors.<span style=color:#a6e22e>toList</span>());
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=添加-graphql-配置>添加 GraphQL 配置</h3><ul><li>添加 GraphQL 依赖</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=display:flex><span>    implementation<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;com.graphql-java:graphql-spring-boot-starter:5.0.2&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 提供 UI    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    implementation<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;com.graphql-java:graphiql-spring-boot-starter:5.0.2&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 用于 Resolver    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    implementation<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;com.graphql-java:graphql-java-tools:5.2.4&#39;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><ul><li>添加接口定义脚本</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#75715e># io.github.helloworlde.graphql.model.Post 对应的Model</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Post</span> {
</span></span><span style=display:flex><span>    id: <span style=color:#a6e22e>ID</span>,
</span></span><span style=display:flex><span>    title: <span style=color:#a6e22e>String</span>,
</span></span><span style=display:flex><span>    content: <span style=color:#a6e22e>String</span>,
</span></span><span style=display:flex><span>    createDate: <span style=color:#a6e22e>String</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># io.github.helloworlde.graphql.resolver.PostMutation.updatePost 的入参 post</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>input</span> <span style=color:#a6e22e>PostInput</span>{
</span></span><span style=display:flex><span>    title: <span style=color:#a6e22e>String</span>!,
</span></span><span style=display:flex><span>    content: <span style=color:#a6e22e>String</span>!
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查询 io.github.helloworlde.graphql.resolver.PostQuery</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Query</span>{
</span></span><span style=display:flex><span>    posts: [<span style=color:#a6e22e>Post</span>]
</span></span><span style=display:flex><span>    post(id: <span style=color:#a6e22e>ID</span>!): <span style=color:#a6e22e>Post</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 修改 io.github.helloworlde.graphql.resolver.PostMutation</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Mutation</span>{
</span></span><span style=display:flex><span>    createPost(post: <span style=color:#a6e22e>PostInput</span>): <span style=color:#a6e22e>Post</span>!
</span></span><span style=display:flex><span>    updatePost(id: <span style=color:#a6e22e>ID</span>!, post: <span style=color:#a6e22e>PostInput</span>): <span style=color:#a6e22e>Post</span>!
</span></span><span style=display:flex><span>    deletePost(id: <span style=color:#a6e22e>ID</span>!): <span style=color:#a6e22e>String</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=添加接口-resolver>添加接口 Resolver</h4><ul><li>查询 Resolver</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@Component</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PostQuery</span> <span style=color:#66d9ef>implements</span> GraphQLQueryResolver {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Autowired</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> PostRepository postRepository;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> List<span style=color:#f92672>&lt;</span>Post<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>posts</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> postRepository.<span style=color:#a6e22e>findAll</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Optional<span style=color:#f92672>&lt;</span>Post<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>post</span>(String id) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> postRepository.<span style=color:#a6e22e>findById</span>(id);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>修改 Resolver</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@Component</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PostMutation</span> <span style=color:#66d9ef>implements</span> GraphQLMutationResolver {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Autowired</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> PostRepository postRepository;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Post <span style=color:#a6e22e>createPost</span>(Post post) {
</span></span><span style=display:flex><span>        Post newPost <span style=color:#f92672>=</span> Post.<span style=color:#a6e22e>builder</span>()
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>title</span>(post.<span style=color:#a6e22e>getTitle</span>())
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>content</span>(post.<span style=color:#a6e22e>getContent</span>())
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>build</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> postRepository.<span style=color:#a6e22e>save</span>(newPost);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Post <span style=color:#a6e22e>updatePost</span>(String id, Post post) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        Post currentPost <span style=color:#f92672>=</span> postRepository.<span style=color:#a6e22e>findById</span>(id)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>orElseThrow</span>(() <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>new</span> IllegalArgumentException(<span style=color:#e6db74>&#34;Post &#34;</span> <span style=color:#f92672>+</span> id <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; Not Exist&#34;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        currentPost.<span style=color:#a6e22e>setTitle</span>(post.<span style=color:#a6e22e>getTitle</span>());
</span></span><span style=display:flex><span>        currentPost.<span style=color:#a6e22e>setContent</span>(post.<span style=color:#a6e22e>getContent</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> postRepository.<span style=color:#a6e22e>save</span>(currentPost);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>deletePost</span>(String id) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        postRepository.<span style=color:#a6e22e>findById</span>(id)
</span></span><span style=display:flex><span>                .<span style=color:#a6e22e>orElseThrow</span>(() <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>new</span> IllegalArgumentException(<span style=color:#e6db74>&#34;Post &#34;</span> <span style=color:#f92672>+</span> id <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; Not Exist&#34;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        postRepository.<span style=color:#a6e22e>deleteById</span>(id);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> id;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=测试>测试</h2><ul><li><p>启动应用</p></li><li><p>访问 <a href=http://localhost:8080/graphiql>http://localhost:8080/graphiql</a></p></li></ul><h4 id=查询>查询</h4><ul><li>查询列表</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span>{
</span></span><span style=display:flex><span>  posts {
</span></span><span style=display:flex><span>    id
</span></span><span style=display:flex><span>    title
</span></span><span style=display:flex><span>    content
</span></span><span style=display:flex><span>    createDate
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;posts&#34;</span>: [
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;5c50245b7ed65eacb3372aba&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Post one&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;Content of Post one&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;createDate&#34;</span>: <span style=color:#e6db74>&#34;Tue Jan 29 18:00:59 CST 2019&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;5c50245b7ed65eacb3372abb&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Post two&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;Content of Post two&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;createDate&#34;</span>: <span style=color:#e6db74>&#34;Tue Jan 29 18:00:59 CST 2019&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>查询指定 id</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span>{
</span></span><span style=display:flex><span>  post(id: <span style=color:#e6db74>&#34;5c50245b7ed65eacb3372aba&#34;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>
</span></span><span style=display:flex><span>    title
</span></span><span style=display:flex><span>    content
</span></span><span style=display:flex><span>    createDate
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;post&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;5c50245b7ed65eacb3372aba&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Post one&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;Content of Post one&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;createDate&#34;</span>: <span style=color:#e6db74>&#34;Tue Jan 29 18:00:59 CST 2019&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=修改>修改</h4><ul><li>新增</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#66d9ef>mutation</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createPost</span>(post: {<span style=color:#a6e22e>title</span>: <span style=color:#e6db74>&#34;New Posts&#34;</span>, <span style=color:#a6e22e>content</span>: <span style=color:#e6db74>&#34;New Post Content&#34;</span>}) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>
</span></span><span style=display:flex><span>    title
</span></span><span style=display:flex><span>    content
</span></span><span style=display:flex><span>    createDate
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;createPost&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;5c5027197ed65eaf47a0854d&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;New Posts&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;New Post Content&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;createDate&#34;</span>: <span style=color:#e6db74>&#34;Tue Jan 29 18:12:41 CST 2019&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>修改</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#66d9ef>mutation</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>updatePost</span>(id: <span style=color:#e6db74>&#34;5c5027197ed65eaf47a0854d&#34;</span>, <span style=color:#a6e22e>post</span>: {<span style=color:#a6e22e>title</span>: <span style=color:#e6db74>&#34;Update Posts&#34;</span>, <span style=color:#a6e22e>content</span>: <span style=color:#e6db74>&#34;Update Post Content&#34;</span>}) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>
</span></span><span style=display:flex><span>    title
</span></span><span style=display:flex><span>    content
</span></span><span style=display:flex><span>    createDate
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;updatePost&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;5c5027197ed65eaf47a0854d&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Update Posts&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;content&#34;</span>: <span style=color:#e6db74>&#34;Update Post Content&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;createDate&#34;</span>: <span style=color:#e6db74>&#34;Tue Jan 29 18:12:41 CST 2019&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>删除</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#66d9ef>mutation</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>deletePost</span>(id: <span style=color:#e6db74>&#34;5c5027197ed65eaf47a0854d&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;deletePost&#34;</span>: <span style=color:#e6db74>&#34;5c5027197ed65eaf47a0854d&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h3 id=参考文章>参考文章</h3><ul><li><a href=http://graphql.cn/>GraphQL</a></li><li><a href=https://medium.com/oril/spring-boot-graphql-mongodb-8733002b728a>Spring Boot + GraphQL + MongoDB</a></li><li><a href=https://github.com/graphql-java-kickstart/graphql-spring-boot>graphql-spring-boot</a></li><li><a href=https://github.com/zhouyuexie/learn-graphql>learn-graphql</a></li><li><a href=https://github.com/leonardomso/graphql-mongodb-server>graphql-mongodb-server</a></li></ul></section><div class=paginator><a class=prev href=https://blog.hellowood.dev/posts/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%BD%91%E5%85%B3-traefik-docker-swarm-%E4%BD%BF%E7%94%A8/><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg>
<span>微服务网关 Traefik - Docker Swarm 使用</span></a>
<a class=next href=https://blog.hellowood.dev/posts/mysql-%E4%B8%AD%E5%85%B3%E4%BA%8Egap-lock-next-key-lock-%E7%9A%84%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98/><span>MySQL 中关于gap lock / next-key lock 的一个问题</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div></article></div><footer class=footer><p>&copy; 2024 <a href=https://blog.hellowood.dev/>HelloWood</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank data-umami-event=to-hugo>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank data-umami-event=to-ladder>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g data-umami-event=top-link><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>